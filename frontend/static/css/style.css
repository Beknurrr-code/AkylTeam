/* ────────────────────────────────────────────────────────────────
   AkylTeam — Global Styles v3.0 (2025 Redesign — Frosted Glass)
   ─────────────────────────────────────────────────────────────── */
:root {
  --bg: #07071a;
  --bg2: #0b0b20;
  --bg3: #111128;
  --bg-main: #07071a;
  --bg-card: rgba(255,255,255,0.04);
  --bg-hover: rgba(139,124,248,0.1);
  --card: rgba(255,255,255,0.04);
  --card-border: rgba(255,255,255,0.07);
  --card-border-hover: rgba(139,124,248,0.45);
  --card-solid: #111128;
  --primary: #8b7cf8;
  --primary-dark: #6c5fd4;
  --primary-glow: rgba(139,124,248,0.28);
  --secondary: #34d9d9;
  --secondary-glow: rgba(52,217,217,0.2);
  --accent: #f97316;
  --accent-glow: rgba(249,115,22,0.2);
  --danger: #f25757;
  --error: #f25757;
  --success: #22d48a;
  --warning: #fbbf24;
  --pink: #f472b6;
  --text: #e4e4f0;
  --text-dim: #7878a0;
  --text-dimmer: #3e3e58;
  --radius: 20px;
  --radius-sm: 12px;
  --radius-xs: 8px;
  --shadow: 0 8px 40px rgba(0,0,0,0.55), inset 0 1px 0 rgba(255,255,255,0.05);
  --shadow-glow: 0 0 48px rgba(139,124,248,0.18);
  --sidebar-w: 62px;
  --sidebar-w-expanded: 250px;
  --transition: .18s cubic-bezier(0.4,0,0.2,1);
  --transition-slow: .38s cubic-bezier(0.4,0,0.2,1);
  --glass: rgba(255,255,255,0.04);
  --glass-border: rgba(255,255,255,0.07);
  --glass-blur: blur(24px) saturate(160%);
}

*, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }

/* Smooth theme switching */
html { scroll-behavior: smooth; transition: background-color 0.35s ease; }
body {
  transition:
    background-color 0.35s ease,
    color 0.2s ease;
}
.card, .sidebar, .top-bar, .modal-box, .input, .btn, .nav-link, .ai-response-card {
  transition:
    background-color 0.3s ease,
    border-color 0.25s ease,
    color 0.2s ease,
    box-shadow 0.25s ease;
}

body {
  font-family: 'Inter', system-ui, sans-serif;
  background: var(--bg);
  background-image:
    radial-gradient(ellipse 80% 50% at 20% -10%, rgba(139,124,248,0.12) 0%, transparent 60%),
    radial-gradient(ellipse 60% 40% at 80% 110%, rgba(52,217,217,0.07) 0%, transparent 60%);
  background-attachment: fixed;
  color: var(--text);
  min-height: 100vh;
  display: flex;
  overflow-x: hidden;
}

/* ── SCROLLBAR ─────────────────────────────────────────────────── */
::-webkit-scrollbar { width: 6px; height: 6px; }
::-webkit-scrollbar-track { background: var(--bg2); }
::-webkit-scrollbar-thumb { background: var(--primary); border-radius: 3px; }

/* ── SIDEBAR ───────────────────────────────────────────────────── */
.sidebar {
  position: fixed;
  top: 0; left: 0;
  width: var(--sidebar-w);
  height: 100vh;
  background: rgba(7,7,26,0.85);
  backdrop-filter: blur(28px) saturate(160%);
  -webkit-backdrop-filter: blur(28px) saturate(160%);
  border-right: 1px solid rgba(255,255,255,0.06);
  display: flex;
  flex-direction: column;
  z-index: 100;
  overflow-x: hidden;
  overflow-y: auto;
  box-shadow: 4px 0 40px rgba(0,0,0,0.35);
  transition: width 0.3s cubic-bezier(0.4,0,0.2,1);
}
.sidebar:hover {
  width: var(--sidebar-w-expanded);
}

/* Collapsed sidebar — icon only */
.sidebar .sidebar-brand {
  justify-content: center;
  padding: 20px 10px 16px;
  transition: padding 0.3s ease, justify-content 0.15s ease;
}
.sidebar:hover .sidebar-brand {
  justify-content: flex-start;
  padding: 24px 20px 20px;
}
.sidebar .brand-name {
  max-width: 0;
  opacity: 0;
  overflow: hidden;
  white-space: nowrap;
  transition: max-width 0.25s ease, opacity 0.15s ease;
}
.sidebar:hover .brand-name {
  max-width: 200px;
  opacity: 1;
  transition: max-width 0.3s ease, opacity 0.25s 0.05s ease;
}
.sidebar .nav-list {
  padding: 8px 6px;
  transition: padding 0.3s ease;
}
.sidebar:hover .nav-list {
  padding: 8px 10px;
}
.sidebar .nav-link {
  justify-content: center;
  padding: 12px;
  transition: all var(--transition);
}
.sidebar:hover .nav-link {
  justify-content: flex-start;
  padding: 10px 14px;
}
.sidebar .nav-link span:not(.nav-icon) {
  overflow: hidden;
  white-space: nowrap;
  max-width: 0;
  opacity: 0;
  transition: max-width 0.25s ease, opacity 0.15s ease;
}
.sidebar:hover .nav-link span:not(.nav-icon) {
  max-width: 200px;
  opacity: 1;
  transition: max-width 0.3s ease, opacity 0.25s 0.05s ease;
}
/* User info block */
.sidebar .sidebar-user {
  overflow: hidden;
}
.sidebar .sidebar-user-info {
  max-width: 0;
  opacity: 0;
  overflow: hidden;
  white-space: nowrap;
  transition: max-width 0.25s ease, opacity 0.15s ease;
}
.sidebar:hover .sidebar-user-info {
  max-width: 200px;
  opacity: 1;
  white-space: normal;
  transition: max-width 0.3s ease, opacity 0.25s 0.05s ease;
}
/* Lang switcher & theme toggle — hidden when collapsed */
.sidebar .lang-switcher,
.sidebar .theme-toggle {
  max-height: 0;
  opacity: 0;
  overflow: hidden;
  padding: 0;
  transition: max-height 0.3s ease, opacity 0.2s ease, padding 0.3s ease;
}
.sidebar:hover .lang-switcher {
  max-height: 60px;
  opacity: 1;
  padding: 16px;
  transition: max-height 0.3s ease, opacity 0.25s 0.05s ease, padding 0.3s ease;
}
.sidebar:hover .theme-toggle {
  max-height: 48px;
  opacity: 1;
  padding: 10px 16px;
  transition: max-height 0.3s ease, opacity 0.25s 0.05s ease, padding 0.3s ease;
}

.sidebar-brand {
  display: flex;
  align-items: center;
  gap: 12px;
  border-bottom: 1px solid rgba(255,255,255,0.05);
  margin-bottom: 4px;
}
.brand-icon { font-size: 26px; }
.brand-name { font-size: 19px; font-weight: 900; background: linear-gradient(135deg, var(--primary), var(--secondary)); -webkit-background-clip: text; background-clip: text; -webkit-text-fill-color: transparent; letter-spacing: -0.3px; }

.nav-list { list-style: none; flex: 1; }
.nav-link {
  display: flex;
  align-items: center;
  gap: 10px;
  color: var(--text-dim);
  text-decoration: none;
  font-size: 13.5px;
  font-weight: 500;
  border-radius: 10px;
  margin-bottom: 2px;
  border-left: none;
}
.nav-link:hover { color: var(--text); background: rgba(255,255,255,0.05); }
.nav-link.active { color: #fff; background: linear-gradient(135deg, var(--primary), #6c5fd4); box-shadow: 0 4px 16px rgba(139,124,248,0.3); font-weight: 600; }
.nav-icon { font-size: 18px; width: 22px; text-align: center; flex-shrink: 0; }

/* ── LANG SWITCHER ─────────────────────────────────────────────── */
.lang-switcher {
  display: flex;
  gap: 6px;
  padding: 16px;
  border-top: 1px solid var(--card-border);
}
.lang-btn {
  flex: 1;
  padding: 6px;
  border: 1px solid var(--card-border);
  border-radius: var(--radius-sm);
  background: transparent;
  color: var(--text-dim);
  font-size: 12px;
  font-weight: 600;
  cursor: pointer;
  transition: all var(--transition);
}
.lang-btn:hover { border-color: var(--primary); color: var(--primary); background: rgba(139,124,248,0.08); }
.lang-btn.active { background: linear-gradient(135deg, var(--primary), #6c5fd4); border-color: transparent; color: #fff; box-shadow: 0 2px 10px rgba(139,124,248,0.35); }

/* ── HAMBURGER ─────────────────────────────────────────────────── */
.hamburger {
  display: none;
  position: fixed;
  top: 16px;
  left: 16px;
  z-index: 200;
  background: rgba(17,17,40,0.9);
  backdrop-filter: blur(16px);
  border: 1px solid rgba(255,255,255,0.08);
  color: var(--text);
  width: 42px;
  height: 42px;
  border-radius: 12px;
  font-size: 20px;
  cursor: pointer;
  box-shadow: 0 4px 20px rgba(0,0,0,0.4);
}

/* ── MAIN CONTENT ──────────────────────────────────────────────── */
.main-content {
  margin-left: var(--sidebar-w);
  flex: 1;
  min-width: 0;
  min-height: 100vh;
  padding: 32px;
  width: calc(100% - var(--sidebar-w));
}

/* ── PAGES ────────────────────────────────────────────────── */
.page { display: none; animation: fadeIn .3s ease; }
.page.active { display: block; max-width: 1200px; margin: 0 auto; }
@keyframes fadeIn { from { opacity: 0; transform: translateY(8px); } to { opacity: 1; transform: translateY(0); } }

/* ── HERO ──────────────────────────────────────────────────────── */
.hero {
  text-align: center;
  padding: 60px 20px 48px;
  background: radial-gradient(ellipse at 50% 0%, rgba(124,111,247,0.15) 0%, transparent 70%);
  border-radius: var(--radius);
  margin-bottom: 40px;
  border: 1px solid var(--card-border);
}
.hero-badge {
  display: inline-block;
  background: rgba(139,124,248,0.12);
  color: var(--primary);
  border: 1px solid rgba(139,124,248,0.25);
  border-radius: 999px;
  padding: 5px 18px;
  font-size: 12px;
  font-weight: 700;
  margin-bottom: 18px;
  letter-spacing: 0.5px;
  text-transform: uppercase;
}
.hero-title { font-size: clamp(2.5rem, 6vw, 4rem); font-weight: 800; background: linear-gradient(135deg, var(--primary), var(--secondary)); -webkit-background-clip: text; background-clip: text; -webkit-text-fill-color: transparent; margin-bottom: 12px; }
.hero-subtitle { font-size: 1.2rem; color: var(--text); margin-bottom: 8px; }
.hero-tagline { font-size: 1rem; color: var(--text-dim); margin-bottom: 28px; }

/* ── MODULES GRID ──────────────────────────────────────────────── */
.modules-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(255px, 1fr)); gap: 14px; }
.module-card {
  background: rgba(255,255,255,0.04);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid rgba(255,255,255,0.07);
  border-radius: 20px;
  padding: 24px;
  cursor: pointer;
  transition: all var(--transition);
  box-shadow: inset 0 1px 0 rgba(255,255,255,0.04);
  position: relative;
  overflow: hidden;
}
.module-card:hover { border-color: rgba(139,124,248,0.4); transform: translateY(-3px); box-shadow: 0 16px 48px rgba(0,0,0,0.4), 0 0 0 1px rgba(139,124,248,0.2), inset 0 1px 0 rgba(255,255,255,0.08); }
.module-icon { font-size: 30px; margin-bottom: 14px; }
.module-card h3 { font-size: 15px; font-weight: 700; margin-bottom: 8px; }
.module-card p { font-size: 13px; color: var(--text-dim); line-height: 1.6; }

/* ── CARDS ─────────────────────────────────────────────────────── */
.card {
  background: rgba(255,255,255,0.04);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid rgba(255,255,255,0.07);
  border-radius: var(--radius);
  padding: 24px;
  margin-bottom: 20px;
  box-shadow: 0 4px 32px rgba(0,0,0,0.2), inset 0 1px 0 rgba(255,255,255,0.04);
  transition: border-color var(--transition), box-shadow var(--transition);
}
.card:hover { border-color: rgba(139,124,248,0.2); box-shadow: 0 8px 40px rgba(0,0,0,0.3), inset 0 1px 0 rgba(255,255,255,0.06); }
.card-title { font-size: 15px; font-weight: 700; margin-bottom: 16px; color: var(--text); }

/* ── GRID ──────────────────────────────────────────────────────── */
.grid-2 { display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 20px; margin-bottom: 20px; }

/* ── PAGE HEADER ───────────────────────────────────────────────── */
.page-header { margin-bottom: 28px; }
.page-header h1 { font-size: 2rem; font-weight: 800; background: linear-gradient(135deg, var(--primary), var(--secondary)); -webkit-background-clip: text; background-clip: text; -webkit-text-fill-color: transparent; }
.page-subtitle { color: var(--text-dim); margin-top: 6px; font-size: 15px; }
.section-title { font-size: 1.4rem; font-weight: 700; margin-bottom: 20px; color: var(--text); }

/* ── FORMS ─────────────────────────────────────────────────────── */
.form-group { margin-bottom: 18px; }
.form-group label { display: block; font-size: 11.5px; font-weight: 700; color: var(--text-dim); margin-bottom: 7px; text-transform: uppercase; letter-spacing: 0.7px; }
.input {
  width: 100%;
  background: rgba(255,255,255,0.05);
  border: 1px solid rgba(255,255,255,0.09);
  border-radius: var(--radius-sm);
  color: var(--text);
  padding: 11px 15px;
  font-size: 14px;
  font-family: inherit;
  transition: border-color var(--transition), box-shadow var(--transition), background var(--transition);
  outline: none;
}
.input:focus { border-color: var(--primary); background: rgba(139,124,248,0.06); box-shadow: 0 0 0 3px rgba(139,124,248,0.14), 0 0 20px rgba(139,124,248,0.07); }
.input::placeholder { color: var(--text-dimmer); }
.textarea { resize: vertical; min-height: 100px; }
.code-area { font-family: 'Fira Code', 'Consolas', monospace; font-size: 13px; min-height: 160px; }

/* ── BUTTONS ───────────────────────────────────────────────────── */
.btn {
  display: inline-flex;
  align-items: center;
  gap: 7px;
  padding: 10px 20px;
  border-radius: 999px;
  border: none;
  font-size: 13.5px;
  font-weight: 600;
  font-family: inherit;
  cursor: pointer;
  transition: all var(--transition);
  white-space: nowrap;
  letter-spacing: 0.1px;
}
.btn-primary {
  background: linear-gradient(135deg, var(--primary) 0%, #6c5fd4 100%);
  color: #fff;
  box-shadow: 0 4px 16px rgba(139,124,248,0.35);
}
.btn-primary:hover { transform: translateY(-1px); box-shadow: 0 8px 24px rgba(139,124,248,0.5); filter: brightness(1.08); }
.btn-primary:active { transform: translateY(0); box-shadow: 0 2px 8px rgba(139,124,248,0.3); }
.btn-secondary {
  background: rgba(52,217,217,0.1);
  color: var(--secondary);
  border: 1px solid rgba(52,217,217,0.25);
  box-shadow: none;
}
.btn-secondary:hover { background: rgba(52,217,217,0.2); border-color: rgba(52,217,217,0.45); transform: translateY(-1px); }
.btn-accent {
  background: rgba(249,115,22,0.1);
  color: var(--accent);
  border: 1px solid rgba(249,115,22,0.25);
}
.btn-accent:hover { background: rgba(249,115,22,0.2); border-color: var(--accent); transform: translateY(-1px); }
.btn-lg { padding: 13px 32px; font-size: 15px; }
.btn-row { display: flex; gap: 10px; flex-wrap: wrap; margin-top: 16px; }
.w-full { width: 100%; justify-content: center; }
.mt-1 { margin-top: 8px; }
.mt-2 { margin-top: 12px; }
.mt-3 { margin-top: 20px; }
.icon-btn {
  background: rgba(255,255,255,0.05);
  border: 1px solid rgba(255,255,255,0.08);
  color: var(--text-dim);
  width: 36px;
  height: 36px;
  border-radius: 10px;
  font-size: 16px;
  cursor: pointer;
  transition: all var(--transition);
  display: flex;
  align-items: center;
  justify-content: center;
}
.icon-btn:hover { border-color: var(--primary); color: var(--primary); background: rgba(139,124,248,0.1); }

/* ── AI RESPONSE ───────────────────────────────────────────────── */
.ai-response-card {
  background: linear-gradient(135deg, rgba(124,111,247,0.05), rgba(62,207,207,0.05));
  border: 1px solid rgba(124,111,247,0.2);
  border-radius: var(--radius);
  margin-top: 20px;
  overflow: hidden;
}
.ai-response-header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 14px 20px;
  background: rgba(124,111,247,0.08);
  border-bottom: 1px solid rgba(124,111,247,0.15);
  font-weight: 700;
  font-size: 14px;
  color: var(--primary);
}
.ai-actions { display: flex; gap: 8px; }
.ai-content {
  padding: 20px;
  font-size: 14px;
  line-height: 1.8;
  color: var(--text);
  max-height: 600px;
  overflow-y: auto;
}

/* ── MARKDOWN CONTENT ──────────────────────────────────────────── */
.markdown-content h1, .markdown-content h2 { font-size: 1.1rem; font-weight: 700; color: var(--primary); margin: 16px 0 8px; }
.markdown-content h3 { font-size: 1rem; font-weight: 700; color: var(--secondary); margin: 12px 0 6px; }
.markdown-content code { background: rgba(124,111,247,0.1); color: var(--secondary); padding: 2px 6px; border-radius: 4px; font-family: 'Fira Code', monospace; font-size: 12px; }
.markdown-content pre { background: var(--bg3); border: 1px solid var(--card-border); border-radius: var(--radius-sm); padding: 14px; margin: 12px 0; overflow-x: auto; }
.markdown-content pre code { background: none; color: var(--text); padding: 0; }
.markdown-content strong, .markdown-content b { color: var(--text); font-weight: 700; }
.markdown-content ul, .markdown-content ol { padding-left: 20px; margin: 8px 0; }
.markdown-content li { margin: 4px 0; }
.markdown-content p { margin: 8px 0; }
.markdown-content hr { border: none; border-top: 1px solid var(--card-border); margin: 16px 0; }
.markdown-content em { color: var(--warning); }

/* ── MEMBERS GRID ──────────────────────────────────────────────── */
.members-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(160px, 1fr)); gap: 12px; margin-bottom: 16px; }
.member-chip {
  background: var(--bg3);
  border: 1px solid var(--card-border);
  border-radius: var(--radius-sm);
  padding: 12px;
  text-align: center;
  transition: border-color var(--transition);
}
.member-chip:hover { border-color: var(--primary); }
.member-avatar { font-size: 28px; margin-bottom: 6px; }
.member-name { font-size: 13px; font-weight: 700; }
.member-role { font-size: 11px; color: var(--secondary); margin-top: 2px; }
.member-skills { font-size: 11px; color: var(--text-dim); margin-top: 4px; }

/* ── TEACHER TABS ──────────────────────────────────────────────── */
.teacher-tabs { display: flex; gap: 8px; margin-bottom: 20px; flex-wrap: wrap; }
.tab-btn {
  padding: 8px 18px;
  border: 1px solid rgba(255,255,255,0.08);
  border-radius: 999px;
  background: transparent;
  color: var(--text-dim);
  font-size: 13px;
  font-weight: 600;
  font-family: inherit;
  cursor: pointer;
  transition: all var(--transition);
}
.tab-btn:hover { border-color: var(--primary); color: var(--primary); background: rgba(139,124,248,0.06); }
.tab-btn.active { background: linear-gradient(135deg, var(--primary), #6c5fd4); border-color: transparent; color: #fff; box-shadow: 0 4px 14px rgba(139,124,248,0.35); }
.teacher-tab-content { display: none; }
.teacher-tab-content.active { display: block; }

/* ── TOPIC GRID ────────────────────────────────────────────────── */
.topic-grid { display: flex; flex-wrap: wrap; gap: 8px; margin-bottom: 12px; }
.topic-chip {
  padding: 6px 12px;
  background: var(--bg3);
  border: 1px solid var(--card-border);
  border-radius: 999px;
  font-size: 12px;
  font-weight: 500;
  cursor: pointer;
  transition: all var(--transition);
  color: var(--text-dim);
}
.topic-chip:hover, .topic-chip.selected { border-color: var(--primary); color: var(--primary); background: rgba(124,111,247,0.1); }

/* ── BURNOUT GAUGE ─────────────────────────────────────────────── */
.gauge-container { display: flex; justify-content: center; margin: 16px 0; }
.gauge {
  position: relative;
  width: 140px;
  height: 140px;
  border-radius: 50%;
  background: conic-gradient(var(--success) 0%, var(--bg3) 0%);
  display: flex;
  align-items: center;
  justify-content: center;
  transition: background 0.5s ease;
}
.gauge::before { content: ''; position: absolute; width: 100px; height: 100px; background: var(--card); border-radius: 50%; }
.gauge-text { position: relative; z-index: 1; font-size: 28px; font-weight: 800; color: var(--text); }
.burnout-level { text-align: center; font-size: 18px; font-weight: 700; margin-top: 8px; }

/* ── BURNOUT QUESTIONS ─────────────────────────────────────────── */
.burnout-q { margin-bottom: 20px; }
.burnout-q-label { font-size: 14px; font-weight: 500; margin-bottom: 10px; color: var(--text); }
.scale-input { display: flex; gap: 6px; flex-wrap: wrap; }
.scale-btn {
  width: 38px;
  height: 38px;
  border: 1px solid var(--card-border);
  border-radius: var(--radius-sm);
  background: var(--bg3);
  color: var(--text-dim);
  font-size: 13px;
  font-weight: 600;
  cursor: pointer;
  transition: all var(--transition);
}
.scale-btn:hover, .scale-btn.selected { background: var(--primary); border-color: var(--primary); color: #fff; }
.bool-input { display: flex; gap: 10px; }
.bool-btn {
  flex: 1;
  padding: 10px;
  border: 1px solid var(--card-border);
  border-radius: var(--radius-sm);
  background: var(--bg3);
  color: var(--text-dim);
  font-weight: 600;
  cursor: pointer;
  transition: all var(--transition);
  font-family: inherit;
}
.bool-btn.yes.selected { background: rgba(34,197,94,0.2); border-color: var(--success); color: var(--success); }
.bool-btn.no.selected { background: rgba(239,68,68,0.2); border-color: var(--danger); color: var(--danger); }
.choice-input { display: flex; gap: 8px; flex-wrap: wrap; }
.choice-btn {
  padding: 7px 14px;
  border: 1px solid var(--card-border);
  border-radius: 999px;
  background: var(--bg3);
  color: var(--text-dim);
  font-size: 13px;
  cursor: pointer;
  transition: all var(--transition);
  font-family: inherit;
}
.choice-btn.selected { background: rgba(124,111,247,0.2); border-color: var(--primary); color: var(--primary); }

/* ── CHAT ──────────────────────────────────────────────────────── */
.chat-layout { display: grid; grid-template-columns: 260px 1fr; gap: 20px; height: calc(100vh - 200px); }
.chat-sidebar { overflow-y: auto; }
.chat-main { background: rgba(255,255,255,0.04); backdrop-filter: blur(20px); border: 1px solid rgba(255,255,255,0.07); border-radius: var(--radius); display: flex; flex-direction: column; overflow: hidden; }
.chat-messages { flex: 1; overflow-y: auto; padding: 20px; display: flex; flex-direction: column; gap: 12px; }
.chat-welcome { display: flex; flex-direction: column; align-items: center; justify-content: center; height: 100%; color: var(--text-dim); text-align: center; gap: 12px; font-size: 32px; }
.chat-input-area { border-top: 1px solid var(--card-border); padding: 16px; }
.chat-input-row { display: flex; gap: 8px; align-items: center; }
.chat-input-row .input { flex: 1; }
.agents-list { display: flex; flex-direction: column; gap: 8px; margin: 12px 0; }
.agent-item { font-size: 13px; font-weight: 600; color: var(--text-dim); padding: 8px 12px; background: var(--bg3); border-radius: var(--radius-sm); border: 1px solid var(--card-border); }

/* ── CHAT MESSAGES ─────────────────────────────────────────────── */
.chat-msg { max-width: 80%; }
.chat-msg-human { align-self: flex-end; }
.chat-msg-agent, .chat-msg-system { align-self: flex-start; }
.chat-msg-bubble {
  padding: 10px 14px;
  border-radius: 12px;
  font-size: 14px;
  line-height: 1.6;
}
.chat-msg-human .chat-msg-bubble { background: var(--primary); color: #fff; border-bottom-right-radius: 4px; }
.chat-msg-agent .chat-msg-bubble { background: var(--bg3); border: 1px solid var(--card-border); border-bottom-left-radius: 4px; }
.chat-msg-system .chat-msg-bubble { background: rgba(245,158,11,0.1); border: 1px solid rgba(245,158,11,0.3); color: var(--warning); font-size: 12px; }
.chat-msg-meta { font-size: 11px; color: var(--text-dimmer); margin-top: 4px; }
.chat-msg-human .chat-msg-meta { text-align: right; }

/* ── LOADER ────────────────────────────────────────────────────── */
.loader-overlay {
  position: fixed;
  inset: 0;
  background: rgba(15,15,23,0.8);
  z-index: 1000;
  display: flex;
  align-items: center;
  justify-content: center;
  backdrop-filter: blur(4px);
}
.loader-box { text-align: center; }
.spinner { width: 48px; height: 48px; border: 3px solid var(--card-border); border-top-color: var(--primary); border-radius: 50%; animation: spin 0.8s linear infinite; margin: 0 auto 16px; }
@keyframes spin { to { transform: rotate(360deg); } }
.loader-text { color: var(--text-dim); font-size: 15px; }

/* ── TOAST ─────────────────────────────────────────────────────── */
.toast {
  position: fixed;
  bottom: 24px;
  right: 24px;
  background: rgba(20,20,50,0.92);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid rgba(255,255,255,0.1);
  color: var(--text);
  padding: 14px 22px;
  border-radius: 999px;
  font-size: 13.5px;
  font-weight: 500;
  z-index: 9999;
  transform: translateY(100px);
  opacity: 0;
  transition: all .3s cubic-bezier(0.4,0,0.2,1);
  max-width: 340px;
  box-shadow: 0 8px 32px rgba(0,0,0,0.4);
}
.toast.show { transform: translateY(0); opacity: 1; }
.toast.success { border-color: var(--success); }
.toast.error { border-color: var(--danger); }

/* ── RESPONSIVE ────────────────────────────────────────────────── */

/* Desktop: hide top-bar, show collapsed sidebar */
@media (min-width: 769px) {
  .top-bar { display: none !important; }
  .hamburger { display: none !important; }
}

@media (max-width: 768px) {
  .sidebar { display: none !important; }
  .hamburger { display: flex; align-items: center; justify-content: center; }
  .main-content { margin-left: 0; width: 100%; padding: 70px 16px 16px; }
  .page.active { max-width: 100%; }
  .chat-layout { grid-template-columns: 1fr; height: auto; }
  .chat-sidebar { display: none; }
  .chat-main { height: 70vh; }
  .grid-2 { grid-template-columns: 1fr; }
  .modules-grid { grid-template-columns: 1fr 1fr; }
  .hero { padding: 32px 16px; }
}

@media (max-width: 480px) {
  .modules-grid { grid-template-columns: 1fr; }
  .lang-switcher { gap: 4px; }
  .lang-btn { padding: 4px 8px; font-size: 11px; }
}

@media (max-width: 480px) {
  .modules-grid { grid-template-columns: 1fr; }
  .btn-row { flex-direction: column; }
}

/* ── VOICE INDICATOR ───────────────────────────────────────────── */
.voice-recording { animation: pulse-red 1s infinite; }
@keyframes pulse-red {
  0%, 100% { box-shadow: 0 0 0 0 rgba(239,68,68,0.4); }
  50% { box-shadow: 0 0 0 8px rgba(239,68,68,0); }
}

/* ── MEMBER CARDS (app.js) ─────────────────────────────────────── */
.member-card {
  display: flex;
  align-items: center;
  gap: 12px;
  background: rgba(255,255,255,0.04);
  border: 1px solid rgba(255,255,255,0.07);
  border-radius: var(--radius-sm);
  padding: 14px;
  transition: all var(--transition);
}
.member-card:hover { border-color: rgba(139,124,248,0.4); box-shadow: 0 4px 20px rgba(0,0,0,0.15); }
.member-card .member-avatar {
  width: 42px; height: 42px;
  border-radius: 50%;
  background: linear-gradient(135deg, var(--primary), var(--secondary));
  display: flex; align-items: center; justify-content: center;
  font-size: 18px; font-weight: 800; color: #fff; flex-shrink: 0;
}
.member-info { flex: 1; min-width: 0; display: flex; flex-direction: column; gap: 2px; }
.member-info strong { font-size: 14px; font-weight: 700; }
.member-role { font-size: 11px; color: var(--secondary); }
.member-skills { font-size: 11px; color: var(--text-dim); white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }
.member-level { font-size: 10px; color: var(--text-dimmer); text-transform: uppercase; letter-spacing: 0.5px; }
.member-energy { width: 60px; flex-shrink: 0; }
.energy-bar { height: 6px; background: var(--bg2); border-radius: 3px; overflow: hidden; }
.energy-fill { height: 100%; border-radius: 3px; transition: width 0.5s ease; }

/* ── BURNOUT QUESTIONS (app.js) ────────────────────────────────── */
.burnout-question { padding: 16px; background: rgba(255,255,255,0.04); border: 1px solid rgba(255,255,255,0.07); border-radius: var(--radius-sm); margin-bottom: 12px; }
.burnout-question label { display: block; font-size: 14px; font-weight: 500; color: var(--text); margin-bottom: 10px; }
.scale-row { display: flex; align-items: center; gap: 10px; }
.scale-row span { font-size: 12px; color: var(--text-dim); min-width: 12px; }
.scale-row input[type=range] { flex: 1; accent-color: var(--primary); }
.scale-row strong { font-size: 18px; font-weight: 800; color: var(--primary); min-width: 28px; text-align: center; }
.bool-row { display: flex; gap: 12px; align-items: center; }
.bool-row label { display: flex; align-items: center; gap: 6px; font-size: 14px; cursor: pointer; color: var(--text); font-weight: 400; }

/* ── CHAT MESSAGES (app.js) ────────────────────────────────────── */
.chat-msg { padding: 8px; border-radius: var(--radius-sm); }
.msg-human { background: rgba(124,111,247,0.1); border: 1px solid rgba(124,111,247,0.2); align-self: flex-end; max-width: 80%; }
.msg-agent { background: rgba(62,207,207,0.08); border: 1px solid rgba(62,207,207,0.2); max-width: 90%; }
.msg-system { background: rgba(245,158,11,0.08); border: 1px solid rgba(245,158,11,0.2); font-size: 12px; color: var(--warning); }
.msg-meta { font-size: 11px; color: var(--text-dimmer); margin-bottom: 4px; }
.msg-body { font-size: 14px; line-height: 1.6; color: var(--text); }
.msg-body code { background: rgba(124,111,247,0.12); color: var(--secondary); padding: 1px 5px; border-radius: 4px; font-size: 12px; }
.msg-body pre { background: var(--bg3); padding: 10px; border-radius: var(--radius-sm); overflow-x: auto; margin: 8px 0; font-size: 12px; }
/* Streaming cursor animation */
.stream-cursor { display: inline-block; animation: blink 0.8s step-end infinite; color: var(--primary); font-weight: 700; }
@keyframes blink { 0%,100%{opacity:1} 50%{opacity:0} }
.chat-msg.streaming .msg-body { border-left: 2px solid var(--primary); padding-left: 6px; }

/* ── INVITE CODE ────────────────────────────────────────────────── */
.invite-code-row { display: flex; align-items: center; gap: 10px; padding: 12px 16px; background: rgba(139,124,248,0.07); border: 1px solid rgba(139,124,248,0.2); border-radius: 999px; margin-bottom: 16px; flex-wrap: wrap; }
.invite-code-label { font-size: 13px; color: var(--text-dimmer); }
.invite-code-badge { font-family: 'Courier New', monospace; font-size: 20px; font-weight: 800; letter-spacing: 4px; color: var(--primary); background: rgba(124,58,237,0.1); padding: 4px 12px; border-radius: 6px; }
.btn-icon { background: none; border: 1px solid var(--card-border); color: var(--text); cursor: pointer; padding: 4px 8px; border-radius: 6px; font-size: 16px; transition: all 0.2s; }
.btn-icon:hover { background: var(--card-hover); border-color: var(--primary); }

/* ── TOPIC CHIP ACTIVE ─────────────────────────────────────────── */
.topic-chip.active { border-color: var(--primary); color: var(--primary); background: rgba(124,111,247,0.12); }

/* ── PAGE HEADER (flex) ────────────────────────────────────────── */
.page-header { display: flex; align-items: center; justify-content: space-between; margin-bottom: 28px; flex-wrap: wrap; gap: 12px; }
.page-title { font-size: 1.8rem; font-weight: 800; background: linear-gradient(135deg, var(--primary), var(--secondary)); -webkit-background-clip: text; background-clip: text; -webkit-text-fill-color: transparent; }

/* ── NAV SEPARATOR ─────────────────────────────────────────────── */
.nav-separator { height: 1px; background: var(--card-border); margin: 8px 12px; }

/* ── SIDEBAR USER ──────────────────────────────────────────────── */
.sidebar-user {
  display: flex; align-items: center; gap: 10px;
  padding: 12px 14px;
  border-top: 1px solid rgba(255,255,255,0.06);
  margin-top: auto;
}
.sidebar-avatar {
  width: 36px; height: 36px; border-radius: 50%;
  background: linear-gradient(135deg, var(--primary), var(--secondary));
  display: flex; align-items: center; justify-content: center;
  font-size: 16px; font-weight: 800; color: #fff; flex-shrink: 0;
}
.sidebar-user-info { flex: 1; min-width: 0; }
.sidebar-username { font-size: 13px; font-weight: 700; color: var(--text); white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }
.sidebar-xp { font-size: 11px; color: var(--text-dim); }
.xp-icon { color: var(--warning); }
.sidebar-rank { margin-left: 4px; color: var(--primary); font-weight: 700; }

/* ── AUTH MODAL ────────────────────────────────────────────────── */
.auth-overlay {
  position: fixed; inset: 0;
  background: rgba(8,8,16,0.85);
  backdrop-filter: blur(8px);
  z-index: 2000;
  display: flex; align-items: center; justify-content: center;
  padding: 20px;
}
.auth-modal {
  background: var(--bg2);
  border: 1px solid var(--card-border);
  border-radius: var(--radius);
  padding: 32px;
  width: 100%; max-width: 480px;
  box-shadow: 0 20px 60px rgba(0,0,0,0.6);
  animation: slideUp .3s ease;
}
@keyframes slideUp { from { opacity:0; transform: translateY(24px); } to { opacity:1; transform: translateY(0); } }
.auth-tabs { display: flex; gap: 4px; margin-bottom: 24px; background: var(--bg3); border-radius: var(--radius-sm); padding: 4px; }
.auth-tab {
  flex: 1; padding: 9px; border: none;
  border-radius: calc(var(--radius-sm) - 2px);
  background: transparent; color: var(--text-dim);
  font-size: 14px; font-weight: 600; font-family: inherit; cursor: pointer;
  transition: all var(--transition);
}
.auth-tab.active { background: var(--primary); color: #fff; }
.auth-hint { text-align: center; font-size: 13px; color: var(--text-dim); margin-top: 16px; }
.auth-hint a { color: var(--primary); text-decoration: none; font-weight: 600; }
.form-row { display: grid; grid-template-columns: 1fr 1fr; gap: 12px; }

/* ── MODALS (general) ──────────────────────────────────────────── */
.modal-overlay {
  position: fixed; inset: 0;
  background: rgba(8,8,16,0.8);
  backdrop-filter: blur(6px);
  z-index: 500;
  display: flex; align-items: center; justify-content: center;
  padding: 20px; overflow-y: auto;
}
.modal-box {
  background: rgba(12,12,36,0.92);
  backdrop-filter: blur(28px);
  -webkit-backdrop-filter: blur(28px);
  border: 1px solid rgba(255,255,255,0.09);
  border-radius: var(--radius);
  padding: 28px;
  width: 100%; max-width: 560px;
  max-height: 90vh; overflow-y: auto;
  animation: slideUp .25s ease;
  box-shadow: 0 24px 80px rgba(0,0,0,0.6), inset 0 1px 0 rgba(255,255,255,0.06);
}
.modal-lg { max-width: 800px; }
.modal-header { display: flex; align-items: center; justify-content: space-between; margin-bottom: 20px; }
.modal-header h3 { font-size: 18px; font-weight: 700; }
.modal-close { background: none; border: none; color: var(--text-dim); font-size: 20px; cursor: pointer; padding: 4px 8px; border-radius: var(--radius-xs); transition: all var(--transition); }
.modal-close:hover { background: var(--bg3); color: var(--danger); }
.modal-actions { display: flex; gap: 10px; justify-content: flex-end; margin-top: 20px; }

/* ── SELECT SMALL ──────────────────────────────────────────────── */
.select-sm { width: auto; padding: 10px 14px; }

/* ── FILTER BAR ────────────────────────────────────────────────── */
.filter-bar { display: flex; gap: 8px; flex-wrap: wrap; margin-bottom: 20px; }
.filter-btn {
  padding: 7px 16px; border: 1px solid rgba(255,255,255,0.08); border-radius: 999px;
  background: transparent; color: var(--text-dim); font-size: 13px; font-weight: 600;
  font-family: inherit; cursor: pointer; transition: all var(--transition);
}
.filter-btn:hover { border-color: var(--primary); color: var(--primary); background: rgba(139,124,248,0.07); }
.filter-btn.active { background: linear-gradient(135deg, var(--primary), #6c5fd4); border-color: transparent; color: #fff; box-shadow: 0 3px 12px rgba(139,124,248,0.35); }

/* ── SEARCH BAR ────────────────────────────────────────────────── */
.search-bar { display: flex; gap: 10px; flex-wrap: wrap; align-items: center; margin-bottom: 24px; }
.search-bar .input { flex: 1; min-width: 200px; }
.checkbox-label { display: flex; align-items: center; gap: 6px; font-size: 13px; font-weight: 500; color: var(--text-dim); cursor: pointer; }
.checkbox-label input[type=checkbox] { accent-color: var(--primary); width: 16px; height: 16px; }

/* ── TOURNAMENT CARD ───────────────────────────────────────────── */
.tournaments-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(300px, 1fr)); gap: 16px; }
.tournament-card {
  background: rgba(255,255,255,0.04);
  backdrop-filter: blur(16px);
  border: 1px solid rgba(255,255,255,0.07);
  border-radius: var(--radius);
  padding: 22px; cursor: pointer; transition: all var(--transition);
  position: relative; overflow: hidden;
  box-shadow: inset 0 1px 0 rgba(255,255,255,0.04);
}
.tournament-card:hover { border-color: rgba(139,124,248,0.4); transform: translateY(-3px); box-shadow: 0 16px 48px rgba(0,0,0,0.4), var(--shadow-glow); }
.tournament-card::before { content: ''; position: absolute; top: 0; left: 0; right: 0; height: 2px; background: linear-gradient(90deg, var(--primary), var(--secondary)); opacity: 0; transition: opacity var(--transition); }
.tournament-card:hover::before { opacity: 1; }
.tournament-status { display: inline-block; padding: 3px 10px; border-radius: 999px; font-size: 11px; font-weight: 700; text-transform: uppercase; letter-spacing: 0.5px; margin-bottom: 12px; }
.status-open { background: rgba(34,197,94,0.15); color: var(--success); border: 1px solid rgba(34,197,94,0.3); }
.status-ongoing { background: rgba(249,115,22,0.15); color: var(--accent); border: 1px solid rgba(249,115,22,0.3); }
.status-voting { background: rgba(124,111,247,0.15); color: var(--primary); border: 1px solid rgba(124,111,247,0.3); }
.status-finished { background: rgba(128,128,160,0.15); color: var(--text-dimmer); border: 1px solid rgba(128,128,160,0.2); }
.tournament-title { font-size: 17px; font-weight: 700; margin-bottom: 6px; }
.tournament-theme { font-size: 13px; color: var(--secondary); margin-bottom: 10px; }
.tournament-meta { font-size: 12px; color: var(--text-dim); display: flex; gap: 12px; flex-wrap: wrap; }
.tournament-tags { display: flex; gap: 6px; flex-wrap: wrap; margin-top: 10px; }
.tag { padding: 3px 8px; background: rgba(62,207,207,0.1); border: 1px solid rgba(62,207,207,0.2); border-radius: 999px; font-size: 11px; color: var(--secondary); }
.tournament-prize { display: flex; align-items: center; gap: 6px; font-size: 13px; font-weight: 600; color: var(--warning); margin-top: 10px; }

/* ── PROJECT CARD ──────────────────────────────────────────────── */
.projects-list { display: flex; flex-direction: column; gap: 12px; margin-top: 20px; }
.project-card {
  background: rgba(255,255,255,0.04); border: 1px solid rgba(255,255,255,0.07); border-radius: var(--radius-sm);
  padding: 18px; transition: all var(--transition);
}
.project-card:hover { border-color: rgba(139,124,248,0.4); box-shadow: 0 8px 32px rgba(0,0,0,0.25); }
.project-header { display: flex; align-items: flex-start; justify-content: space-between; gap: 12px; }
.project-title { font-size: 16px; font-weight: 700; }
.project-tagline { font-size: 13px; color: var(--text-dim); margin-top: 4px; }
.project-score { display: flex; flex-direction: column; align-items: center; min-width: 60px; }
.score-value { font-size: 24px; font-weight: 800; color: var(--warning); }
.score-label { font-size: 10px; color: var(--text-dimmer); text-transform: uppercase; }
.project-tech { display: flex; gap: 6px; flex-wrap: wrap; margin-top: 10px; }
.tech-badge { padding: 3px 8px; background: rgba(124,111,247,0.1); border: 1px solid rgba(124,111,247,0.2); border-radius: var(--radius-xs); font-size: 11px; color: var(--primary); }
.project-rank { font-size: 28px; font-weight: 900; color: var(--text-dimmer); }
.project-rank.rank-1 { color: var(--warning); }
.project-rank.rank-2 { color: #c0c0c0; }
.project-rank.rank-3 { color: #cd7f32; }
.vote-meta { font-size: 12px; color: var(--text-dim); margin-top: 8px; }

/* ── USER CARDS ────────────────────────────────────────────────── */
.users-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(260px, 1fr)); gap: 16px; }
.user-card {
  background: rgba(255,255,255,0.04);
  backdrop-filter: blur(16px);
  border: 1px solid rgba(255,255,255,0.07);
  border-radius: var(--radius); padding: 20px;
  transition: all var(--transition); cursor: pointer;
  box-shadow: inset 0 1px 0 rgba(255,255,255,0.04);
}
.user-card:hover { border-color: rgba(139,124,248,0.4); transform: translateY(-3px); box-shadow: 0 12px 40px rgba(0,0,0,0.35); }
.user-card-header { display: flex; align-items: center; gap: 14px; margin-bottom: 12px; }
.user-card-avatar {
  width: 52px; height: 52px; border-radius: 50%;
  background: linear-gradient(135deg, var(--primary), var(--secondary));
  display: flex; align-items: center; justify-content: center;
  font-size: 22px; font-weight: 800; color: #fff; flex-shrink: 0;
}
.user-card-name { font-size: 15px; font-weight: 700; }
.user-card-rank { font-size: 12px; color: var(--primary); font-weight: 600; }
.user-card-bio { font-size: 13px; color: var(--text-dim); margin-bottom: 12px; line-height: 1.5; overflow: hidden; display: -webkit-box; -webkit-line-clamp: 2; line-clamp: 2; -webkit-box-orient: vertical; }
.user-skills-wrap { display: flex; gap: 5px; flex-wrap: wrap; margin-bottom: 12px; }
.skill-tag { padding: 3px 8px; background: rgba(62,207,207,0.1); border: 1px solid rgba(62,207,207,0.2); border-radius: 999px; font-size: 11px; color: var(--secondary); }
.looking-badge { display: inline-block; padding: 3px 10px; background: rgba(34,197,94,0.15); border: 1px solid rgba(34,197,94,0.3); color: var(--success); border-radius: 999px; font-size: 11px; font-weight: 700; }

/* ── LEADERBOARD ───────────────────────────────────────────────── */
.leaderboard-table { display: flex; flex-direction: column; gap: 8px; }
.lb-row {
  display: flex; align-items: center; gap: 16px;
  background: rgba(255,255,255,0.04);
  backdrop-filter: blur(16px);
  border: 1px solid rgba(255,255,255,0.07);
  border-radius: var(--radius-sm); padding: 16px 20px;
  transition: all var(--transition);
}
.lb-row:hover { border-color: rgba(139,124,248,0.4); box-shadow: 0 4px 20px rgba(139,124,248,0.1); }
.lb-row.me { border-color: var(--primary); background: rgba(124,111,247,0.06); }
.lb-row.top1 { border-color: var(--warning); background: rgba(245,158,11,0.05); }
.lb-row.top2 { border-color: #c0c0c0; }
.lb-row.top3 { border-color: #cd7f32; }
.lb-pos { font-size: 20px; font-weight: 900; min-width: 36px; text-align: center; color: var(--text-dimmer); }
.lb-pos.p1 { color: var(--warning); }
.lb-pos.p2 { color: #c0c0c0; }
.lb-pos.p3 { color: #cd7f32; }
.lb-avatar {
  width: 44px; height: 44px; border-radius: 50%;
  background: linear-gradient(135deg, var(--primary), var(--secondary));
  display: flex; align-items: center; justify-content: center;
  font-size: 18px; font-weight: 800; color: #fff; flex-shrink: 0;
}
.lb-info { flex: 1; }
.lb-username { font-size: 15px; font-weight: 700; }
.lb-rank { font-size: 12px; color: var(--primary); }
.lb-xp { font-size: 18px; font-weight: 800; color: var(--warning); }
.lb-xp-label { font-size: 11px; color: var(--text-dimmer); }

/* ── PROFILE PAGE ──────────────────────────────────────────────── */
.profile-hero {
  display: flex; align-items: flex-start; gap: 24px;
  background: rgba(255,255,255,0.04);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid rgba(255,255,255,0.08);
  border-radius: var(--radius);
  padding: 28px; margin-bottom: 24px; flex-wrap: wrap;
  box-shadow: 0 4px 32px rgba(0,0,0,0.2), inset 0 1px 0 rgba(255,255,255,0.06);
}
.profile-avatar-lg {
  width: 80px; height: 80px; border-radius: 50%;
  background: linear-gradient(135deg, var(--primary), var(--secondary));
  display: flex; align-items: center; justify-content: center;
  font-size: 36px; font-weight: 900; color: #fff; flex-shrink: 0;
  border: 3px solid rgba(124,111,247,0.4);
}
.profile-hero-info { flex: 1; min-width: 200px; }
.profile-name { font-size: 1.8rem; font-weight: 800; margin-bottom: 4px; }
.profile-rank { display: inline-block; padding: 4px 12px; background: rgba(124,111,247,0.15); border: 1px solid rgba(124,111,247,0.3); color: var(--primary); border-radius: 999px; font-size: 13px; font-weight: 700; margin-bottom: 8px; }
.profile-bio { font-size: 14px; color: var(--text-dim); line-height: 1.6; margin-bottom: 8px; }
.profile-meta { font-size: 13px; color: var(--secondary); }
.profile-stats { display: flex; gap: 12px; flex-wrap: wrap; }
.stat-box { background: rgba(255,255,255,0.05); border: 1px solid rgba(255,255,255,0.08); border-radius: var(--radius-sm); padding: 14px 18px; text-align: center; min-width: 70px; }
.stat-val { font-size: 22px; font-weight: 800; color: var(--primary); }
.stat-lbl { font-size: 11px; color: var(--text-dimmer); text-transform: uppercase; margin-top: 2px; }

/* ── XP PROGRESS ───────────────────────────────────────────────── */
.xp-progress-wrap { margin-bottom: 24px; }
.xp-progress-bar { height: 12px; background: var(--bg3); border-radius: 6px; overflow: hidden; border: 1px solid var(--card-border); }
.xp-fill { height: 100%; background: linear-gradient(90deg, var(--primary), var(--secondary)); border-radius: 6px; transition: width 1s cubic-bezier(0.4,0,0.2,1); }
.xp-progress-labels { display: flex; justify-content: space-between; font-size: 12px; color: var(--text-dim); margin-top: 6px; }

/* ── PROFILE SECTIONS ──────────────────────────────────────────── */
.profile-section { margin-bottom: 24px; }
.profile-section h3 { font-size: 16px; font-weight: 700; margin-bottom: 14px; color: var(--text); border-bottom: 1px solid var(--card-border); padding-bottom: 10px; }
.skill-chips { display: flex; gap: 8px; flex-wrap: wrap; }
.skill-chip { padding: 6px 14px; background: rgba(62,207,207,0.1); border: 1px solid rgba(62,207,207,0.25); border-radius: 999px; font-size: 13px; font-weight: 600; color: var(--secondary); }

/* ── BADGES GRID ───────────────────────────────────────────────── */
.badges-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(160px, 1fr)); gap: 12px; }
.badge-card {
  background: rgba(255,255,255,0.04); border: 1px solid rgba(255,255,255,0.07);
  border-radius: var(--radius-sm); padding: 16px; text-align: center;
  transition: all var(--transition);
}
.badge-card:hover { border-color: rgba(139,124,248,0.4); transform: translateY(-2px); box-shadow: 0 8px 24px rgba(0,0,0,0.25); }
.badge-card.legendary { border-color: rgba(245,158,11,0.5); background: rgba(245,158,11,0.05); }
.badge-card.epic { border-color: rgba(236,72,153,0.4); background: rgba(236,72,153,0.04); }
.badge-card.rare { border-color: rgba(124,111,247,0.4); background: rgba(124,111,247,0.04); }
.badge-icon { font-size: 32px; margin-bottom: 8px; }
.badge-name { font-size: 13px; font-weight: 700; margin-bottom: 4px; }
.badge-desc { font-size: 11px; color: var(--text-dim); line-height: 1.4; }
.badge-rarity { font-size: 10px; text-transform: uppercase; letter-spacing: 0.5px; font-weight: 700; margin-top: 6px; }
.rarity-legendary { color: var(--warning); }
.rarity-epic { color: var(--pink); }
.rarity-rare { color: var(--primary); }
.rarity-common { color: var(--text-dimmer); }

/* ── XP LOG ────────────────────────────────────────────────────── */
.xp-log { display: flex; flex-direction: column; gap: 8px; }
.xp-log-item { display: flex; align-items: center; justify-content: space-between; padding: 10px 14px; background: rgba(255,255,255,0.04); border: 1px solid rgba(255,255,255,0.07); border-radius: var(--radius-sm); }
.xp-log-reason { font-size: 13px; color: var(--text); }
.xp-log-amount { font-size: 14px; font-weight: 700; color: var(--success); }
.xp-log-time { font-size: 11px; color: var(--text-dimmer); }

/* ── BUTTONS (danger) ──────────────────────────────────────────── */
.btn-danger { background: rgba(242,87,87,0.1); color: var(--danger); border: 1px solid rgba(242,87,87,0.25); border-radius: 999px; }
.btn-danger:hover { background: rgba(242,87,87,0.2); border-color: var(--danger); transform: translateY(-1px); }

/* ── AI TYPING INDICATOR ───────────────────────────────────────── */
.typing-indicator { display: flex; gap: 4px; align-items: center; padding: 8px 14px; }
.typing-dot { width: 7px; height: 7px; background: var(--text-dimmer); border-radius: 50%; animation: typing-bounce 1.2s infinite; }
.typing-dot:nth-child(2) { animation-delay: 0.2s; }
.typing-dot:nth-child(3) { animation-delay: 0.4s; }
@keyframes typing-bounce { 0%,80%,100% { transform: scale(0.8); opacity: 0.4; } 40% { transform: scale(1.1); opacity: 1; } }

/* ── EMPTY STATE ───────────────────────────────────────────────── */
.empty-state { text-align: center; padding: 40px 20px; color: var(--text-dimmer); font-size: 14px; }

/* ── VOTE STARS ────────────────────────────────────────────────── */
.vote-row { display: flex; gap: 8px; align-items: center; flex-wrap: wrap; }
.star-btn { background: none; border: none; font-size: 22px; cursor: pointer; transition: transform var(--transition); filter: grayscale(1); }
.star-btn.active { filter: grayscale(0); transform: scale(1.1); }

/* ── AI TYPING EFFECT ──────────────────────────────────────────── */
.type-cursor::after { content: '|'; animation: blink 0.7s infinite; color: var(--primary); }

/* ── PLATFORM STATS (home page) ────────────────────────────────── */
.platform-stats {
  display: flex;
  justify-content: center;
  gap: 32px;
  padding: 24px 32px;
  background: var(--card-bg);
  border: 1px solid var(--card-border);
  border-radius: var(--radius);
  margin: 24px 0 8px;
  flex-wrap: wrap;
}
.pstat { text-align: center; }
.pstat-val {
  font-size: 2rem;
  font-weight: 800;
  background: var(--gradient);
  -webkit-background-clip: text; background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
  line-height: 1.1;
}
.pstat-lbl { font-size: 12px; color: var(--text-dimmer); margin-top: 4px; text-transform: uppercase; letter-spacing: .06em; }

/* ── SIDEBAR USER ENHANCEMENTS ─────────────────────────────────── */
.xp-icon { color: var(--accent); }
#sidebarRank { color: var(--text-dimmer); font-size: 11px; }

/* ── PROFILE: looking-for-team marker ─────────────────────────── */
.profile-hero .looking-badge {
  display: inline-block;
  margin-top: 6px;
  padding: 4px 10px;
  font-size: 12px;
  border-radius: 999px;
  background: rgba(16,185,129,.15);
  color: var(--success);
  border: 1px solid rgba(16,185,129,.3);
}

/* ── VOTE SCORE SLIDER ─────────────────────────────────────────── */
input[type=range] {
  -webkit-appearance: none;
  appearance: none;
  width: 100%;
  height: 6px;
  border-radius: 3px;
  background: var(--bg3);
  outline: none;
  padding: 0;
  margin: 8px 0;
}
input[type=range]::-webkit-slider-thumb {
  -webkit-appearance: none;
  width: 22px;
  height: 22px;
  border-radius: 50%;
  background: var(--primary);
  cursor: pointer;
  box-shadow: 0 0 8px rgba(99,102,241,.5);
}

/* ── MOBILE RESPONSIVE ─────────────────────────────────────────── */
@media (max-width: 600px) {
  .modules-grid { grid-template-columns: 1fr; }
  .tournaments-grid { grid-template-columns: 1fr; }
  .users-grid { grid-template-columns: 1fr; }
  .profile-hero { flex-direction: column; align-items: center; text-align: center; gap: 16px; }
  .profile-stats { justify-content: center; }
  .modal-box { margin: 10px; max-height: 95vh; }
  .platform-stats { gap: 20px; }
  .form-row { flex-direction: column; gap: 0; }
  .badges-grid { grid-template-columns: repeat(2, 1fr); }
}

/* ═══════════════════════════════════════════════════════════════
   AUTH LANDING PAGE
   ═══════════════════════════════════════════════════════════════ */
.auth-landing {
  position: fixed;
  inset: 0;
  z-index: 9999;
  background: var(--bg);
  display: flex;
  align-items: stretch;
  overflow: hidden;
}
.auth-landing.hidden { display: none; }

/* ── Left branding panel ───────────────────────────────────────────────── */
.auth-left {
  flex: 1;
  display: flex;
  flex-direction: column;
  justify-content: center;
  padding: 60px 56px;
  background: linear-gradient(145deg, #07071a 0%, #0e0e2a 45%, #070d1f 100%);
  position: relative;
  overflow: hidden;
}
/* Animated orbs */
.auth-left::before {
  content: '';
  position: absolute;
  top: -140px; left: -100px;
  width: 560px; height: 560px;
  background: radial-gradient(circle, rgba(124,111,247,0.22) 0%, transparent 70%);
  pointer-events: none;
  animation: auth-orb1 8s ease-in-out infinite alternate;
}
.auth-left::after {
  content: '';
  position: absolute;
  bottom: -100px; right: -80px;
  width: 420px; height: 420px;
  background: radial-gradient(circle, rgba(62,207,207,0.16) 0%, transparent 70%);
  pointer-events: none;
  animation: auth-orb2 10s ease-in-out infinite alternate;
}
@keyframes auth-orb1 {
  from { transform: translate(0, 0) scale(1); }
  to   { transform: translate(40px, 30px) scale(1.1); }
}
@keyframes auth-orb2 {
  from { transform: translate(0, 0) scale(1); }
  to   { transform: translate(-30px, -20px) scale(1.08); }
}
.auth-brand {
  display: flex;
  align-items: center;
  gap: 14px;
  margin-bottom: 52px;
  position: relative; z-index: 1;
}
.auth-brand-icon {
  font-size: 42px;
  filter: drop-shadow(0 0 16px rgba(124,111,247,0.6));
  animation: auth-pulse 3s ease-in-out infinite;
}
@keyframes auth-pulse {
  0%, 100% { filter: drop-shadow(0 0 16px rgba(124,111,247,0.6)); }
  50%       { filter: drop-shadow(0 0 30px rgba(62,207,207,0.7)); }
}
.auth-brand-name {
  font-size: 30px;
  font-weight: 900;
  background: linear-gradient(135deg, var(--primary), var(--secondary));
  -webkit-background-clip: text; background-clip: text;
  -webkit-text-fill-color: transparent;
  letter-spacing: -0.5px;
}
.auth-tagline {
  font-size: 34px;
  font-weight: 800;
  line-height: 1.2;
  margin-bottom: 14px;
  color: #ffffff;
  position: relative; z-index: 1;
}
.auth-tagline .highlight {
  background: linear-gradient(135deg, var(--primary), var(--secondary));
  -webkit-background-clip: text; background-clip: text;
  -webkit-text-fill-color: transparent;
}
.auth-sub {
  font-size: 15px;
  color: rgba(255,255,255,0.55);
  margin-bottom: 40px;
  line-height: 1.7;
  max-width: 380px;
  position: relative; z-index: 1;
}
/* Stats row */
.auth-stats {
  display: flex;
  gap: 32px;
  margin-bottom: 40px;
  position: relative; z-index: 1;
}
.auth-stat { text-align: center; }
.auth-stat-num {
  font-size: 22px;
  font-weight: 900;
  color: #ffffff;
  background: linear-gradient(135deg, var(--primary), var(--secondary));
  -webkit-background-clip: text; background-clip: text;
  -webkit-text-fill-color: transparent;
}
.auth-stat-label { font-size: 11px; color: rgba(255,255,255,0.4); margin-top: 2px; text-transform: uppercase; letter-spacing: 0.8px; }
/* Feature cards */
.auth-features { display: flex; flex-direction: column; gap: 12px; position: relative; z-index: 1; }
.auth-feature {
  display: flex;
  align-items: center;
  gap: 14px;
  padding: 14px 18px;
  background: rgba(255,255,255,0.04);
  border: 1px solid rgba(255,255,255,0.07);
  border-radius: 14px;
  transition: all 0.25s ease;
  cursor: default;
}
.auth-feature:hover {
  background: rgba(124,111,247,0.1);
  border-color: rgba(124,111,247,0.3);
  transform: translateX(4px);
}
.auth-feature-icon { font-size: 22px; flex-shrink: 0; }
.auth-feature-text { font-size: 13px; color: rgba(255,255,255,0.5); }
.auth-feature-text strong { display: block; font-size: 14px; font-weight: 700; color: rgba(255,255,255,0.9); margin-bottom: 1px; }

/* ── Right form panel ──────────────────────────────────────────────────── */
.auth-right {
  width: 440px;
  flex-shrink: 0;
  display: flex;
  flex-direction: column;
  justify-content: center;
  padding: 56px 44px;
  background: rgba(11,11,32,0.96);
  backdrop-filter: blur(24px);
  border-left: 1px solid rgba(255,255,255,0.06);
  overflow-y: auto;
}
.auth-form-title {
  font-size: 26px;
  font-weight: 800;
  margin-bottom: 6px;
  color: var(--text);
}
.auth-form-sub {
  font-size: 14px;
  color: var(--text-dim);
  margin-bottom: 28px;
  line-height: 1.5;
}
/* Tabs */
.auth-tabs {
  display: flex;
  gap: 0;
  background: rgba(255,255,255,0.06);
  border-radius: 999px;
  padding: 4px;
  margin-bottom: 26px;
  border: 1px solid rgba(255,255,255,0.08);
}
.auth-tab-btn {
  flex: 1;
  padding: 10px;
  border: none;
  background: transparent;
  color: var(--text-dim);
  font-size: 14px;
  font-weight: 700;
  border-radius: 999px;
  cursor: pointer;
  transition: all 0.22s cubic-bezier(0.4,0,0.2,1);
}
.auth-tab-btn.active {
  background: linear-gradient(135deg, var(--primary), #6c5fd4);
  color: #fff;
  box-shadow: 0 4px 16px rgba(139,124,248,0.45);
}
/* Panels */
.auth-panel { display: none; flex-direction: column; gap: 12px; }
.auth-panel.active { display: flex; animation: auth-slide-in 0.22s ease; }
@keyframes auth-slide-in {
  from { opacity: 0; transform: translateY(8px); }
  to   { opacity: 1; transform: translateY(0); }
}
/* Input with icon wrapper */
.auth-input-wrap {
  position: relative;
}
.auth-input-wrap .input {
  padding-left: 40px;
  padding-right: 40px;
}
.auth-input-icon {
  position: absolute;
  left: 12px; top: 50%;
  transform: translateY(-50%);
  font-size: 16px;
  pointer-events: none;
  color: var(--text-dimmer);
  transition: color 0.2s;
}
.auth-input-wrap:focus-within .auth-input-icon { color: var(--primary); }
.auth-eye-btn {
  position: absolute;
  right: 10px; top: 50%;
  transform: translateY(-50%);
  background: none; border: none;
  cursor: pointer; font-size: 16px;
  color: var(--text-dimmer); padding: 4px;
  transition: color 0.2s;
}
.auth-eye-btn:hover { color: var(--text); }
/* Password strength */
.pass-strength-wrap { margin-top: -4px; }
.pass-strength-bar {
  height: 3px; border-radius: 2px;
  background: var(--bg3); overflow: hidden;
}
.pass-strength-fill {
  height: 100%; border-radius: 2px;
  transition: width 0.3s ease, background 0.3s ease;
  width: 0%;
}
.pass-strength-label { font-size: 11px; color: var(--text-dimmer); margin-top: 4px; }
/* Divider */
.auth-divider {
  display: flex; align-items: center; gap: 10px;
}
.auth-divider::before, .auth-divider::after {
  content: ''; flex: 1; height: 1px; background: var(--card-border);
}
.auth-divider span { font-size: 12px; color: var(--text-dimmer); white-space: nowrap; }
/* Lang picker */
.auth-lang {
  display: flex;
  gap: 8px;
  margin-top: 22px;
  padding-top: 20px;
  border-top: 1px solid var(--card-border);
  justify-content: center;
}
.auth-lang-btn {
  padding: 5px 14px;
  border-radius: 999px;
  border: 1px solid var(--card-border);
  background: transparent;
  color: var(--text-dim);
  font-size: 13px;
  font-weight: 700;
  cursor: pointer;
  transition: all 0.18s;
}
.auth-lang-btn.active, .auth-lang-btn:hover {
  border-color: var(--primary);
  color: var(--primary);
  background: rgba(124,111,247,0.1);
}
@media (max-width: 900px) {
  .auth-left { display: none; }
  .auth-right { width: 100%; padding: 40px 24px; }
}
@media (max-width: 480px) {
  .auth-right { padding: 32px 20px; }
}

/* ── TEAM MANAGEMENT PAGE ─────────────────────────────────────────────── */
.team-hero {
  background: linear-gradient(135deg, rgba(124,111,247,0.08) 0%, rgba(62,207,207,0.06) 100%);
  border: 1px solid var(--card-border);
  border-radius: var(--radius);
  padding: 28px;
  margin-bottom: 24px;
  display: flex;
  align-items: center;
  gap: 20px;
}
.team-hero-avatar {
  width: 72px; height: 72px;
  border-radius: 18px;
  background: linear-gradient(135deg, var(--primary), var(--secondary));
  display: flex; align-items: center; justify-content: center;
  font-size: 32px; flex-shrink: 0;
  box-shadow: 0 6px 20px var(--primary-glow);
}
.team-hero-info { flex: 1; min-width: 0; }
.team-hero-name { font-size: 22px; font-weight: 900; color: var(--text); }
.team-hero-theme { font-size: 13px; color: var(--text-dim); margin-top: 3px; }
.team-hero-badge {
  display: inline-flex; align-items: center; gap: 6px;
  padding: 4px 12px;
  border-radius: 999px;
  font-size: 12px; font-weight: 700;
  margin-top: 8px;
}
.team-hero-badge.leader { background: rgba(250,204,21,0.15); color: #fbbf24; border: 1px solid rgba(250,204,21,0.3); }
.team-hero-badge.member { background: rgba(62,207,207,0.12); color: var(--secondary); border: 1px solid rgba(62,207,207,0.25); }
.invite-code-box {
  display: flex; align-items: center; gap: 10px;
  background: var(--bg3);
  border: 1px solid var(--card-border);
  border-radius: var(--radius-sm);
  padding: 12px 16px;
  margin-top: 10px;
}
.invite-code-value {
  font-size: 20px; font-weight: 900; letter-spacing: 4px;
  color: var(--primary); font-family: monospace; flex: 1;
}
.member-card {
  display: flex; align-items: center; gap: 14px;
  padding: 14px 16px;
  background: var(--bg3);
  border: 1px solid var(--card-border);
  border-radius: var(--radius-sm);
  transition: border-color 0.2s;
}
.member-card:hover { border-color: rgba(139,124,248,0.4); box-shadow: 0 4px 20px rgba(0,0,0,0.15); }
.member-avatar {
  width: 42px; height: 42px;
  border-radius: 12px;
  background: linear-gradient(135deg, var(--primary), var(--secondary));
  display: flex; align-items: center; justify-content: center;
  font-size: 18px; font-weight: 900; color: #fff; flex-shrink: 0;
}
.member-name { font-weight: 700; font-size: 14px; color: var(--text); }
.member-skills { font-size: 12px; color: var(--text-dim); margin-top: 2px; }
.member-role-badge {
  padding: 3px 10px; border-radius: 999px;
  font-size: 11px; font-weight: 700; margin-left: auto;
}
.member-role-badge.leader { background: rgba(250,204,21,0.15); color: #fbbf24; }
.member-role-badge.member { background: rgba(124,111,247,0.12); color: var(--primary); }
.request-card {
  display: flex; align-items: flex-start; gap: 12px;
  padding: 14px 16px;
  background: var(--bg3);
  border: 1px solid var(--card-border);
  border-radius: var(--radius-sm);
}
.request-card .request-info { flex: 1; min-width: 0; }
.request-card .request-name { font-weight: 700; font-size: 14px; color: var(--text); }
.request-card .request-msg { font-size: 12px; color: var(--text-dim); margin-top: 3px; }
.request-actions { display: flex; gap: 8px; margin-top: 10px; }
/* Tab-style sections inside team page */
.team-section-tabs {
  display: flex; gap: 4px;
  background: rgba(255,255,255,0.04);
  border: 1px solid rgba(255,255,255,0.07);
  border-radius: 999px;
  padding: 4px;
  margin-bottom: 20px;
}
.team-section-tab {
  flex: 1; padding: 8px 14px;
  background: transparent; border: none;
  border-radius: 999px;
  font-size: 13px; font-weight: 600; color: var(--text-dim);
  cursor: pointer; transition: all 0.18s;
}
.team-section-tab.active { background: linear-gradient(135deg, var(--primary), #6c5fd4); color: #fff; box-shadow: 0 3px 12px rgba(139,124,248,0.4); }

/* ══════════════════════════════════════════════════════════════════
   LIGHT THEME — v2 (canonical, see overrides below too)
   ══════════════════════════════════════════════════════════════════ */
[data-theme="light"] {
  --bg: #f4f4fb;
  --bg2: #ffffff;
  --bg3: #ebebf6;
  --bg-main: #f4f4fb;
  --bg-card: #ffffff;
  --bg-hover: rgba(124,111,247,0.07);
  --card: #ffffff;
  --card-border: rgba(100,90,200,0.12);
  --card-border-hover: rgba(124,111,247,0.45);
  --primary: #6d5ff0;
  --primary-dark: #5449c6;
  --primary-glow: rgba(109,95,240,0.22);
  --secondary: #0ea5e9;
  --secondary-glow: rgba(14,165,233,0.2);
  --text: #18182e;
  --text-dim: #505078;
  --text-dimmer: #9898b8;
  --shadow: 0 4px 24px rgba(80,70,180,0.1);
  --shadow-glow: 0 0 30px rgba(109,95,240,0.12);
}
[data-theme="light"] body {
  background: #f2f2fc;
  background-image:
    radial-gradient(ellipse 70% 50% at 15% -5%, rgba(109,95,240,0.1) 0%, transparent 55%),
    radial-gradient(ellipse 50% 40% at 85% 105%, rgba(14,165,233,0.07) 0%, transparent 55%);
  background-attachment: fixed;
}
[data-theme="light"] .sidebar {
  background: rgba(255,255,255,0.9);
  backdrop-filter: blur(20px);
  border-right-color: rgba(100,90,200,0.12);
  box-shadow: 4px 0 24px rgba(80,70,180,0.06);
}
[data-theme="light"] .top-bar {
  background: rgba(255,255,255,0.85);
  backdrop-filter: blur(16px);
  border-bottom-color: rgba(100,90,200,0.1);
}
[data-theme="light"] .module-card,
[data-theme="light"] .card { background: rgba(255,255,255,0.88); border-color: rgba(100,90,200,0.1); box-shadow: 0 2px 20px rgba(80,70,180,0.07); }
[data-theme="light"] .card:hover { box-shadow: 0 8px 32px rgba(80,70,180,0.14); }
[data-theme="light"] .input { background: rgba(100,90,200,0.06); color: var(--text); border-color: rgba(100,90,200,0.15); }
[data-theme="light"] .input:focus { background: #fff; border-color: var(--primary); box-shadow: 0 0 0 3px rgba(109,95,240,0.12); }
[data-theme="light"] pre { background: #1e1e2e !important; }
[data-theme="light"] code { background: #f0eeff; color: #5449c6; }
[data-theme="light"] .chat-msg.msg-human { background: #ece8ff; }
[data-theme="light"] .chat-msg.msg-agent { background: #f0fdf4; }
[data-theme="light"] .auth-landing { background: #f0f0fb; }
[data-theme="light"] .nav-link:hover { background: rgba(109,95,240,0.08); }
[data-theme="light"] .nav-link.active { background: rgba(109,95,240,0.14); }
[data-theme="light"] .btn-primary { box-shadow: 0 4px 16px rgba(109,95,240,0.3); }
[data-theme="light"] .ai-response-card { background: linear-gradient(135deg, rgba(109,95,240,0.06), rgba(14,165,233,0.04)); border-color: rgba(109,95,240,0.18); }

/* ── THEME TOGGLE BUTTON ───────────────────────────────────────── */
.theme-toggle {
  display: flex;
  align-items: center;
  gap: 6px;
  margin: 0 10px 12px;
  padding: 8px 14px;
  border: 1px solid rgba(255,255,255,0.08);
  border-radius: 999px;
  background: rgba(255,255,255,0.03);
  color: var(--text-dim);
  font-size: 12px;
  font-weight: 600;
  cursor: pointer;
  transition: all var(--transition);
  width: calc(100% - 20px);
}
.theme-toggle:hover { border-color: var(--primary); color: var(--primary); background: rgba(139,124,248,0.07); }

/* ── USER SEARCH DROPDOWN ──────────────────────────────────────── */
.user-search-wrap { position: relative; }
.user-search-dropdown {
  position: absolute;
  top: 100%;
  left: 0;
  right: 0;
  background: var(--card);
  border: 1px solid var(--card-border);
  border-radius: var(--radius-sm);
  z-index: 50;
  max-height: 220px;
  overflow-y: auto;
  box-shadow: var(--shadow);
}
.user-search-dropdown.hidden { display: none; }
.user-search-item {
  display: flex;
  align-items: center;
  gap: 10px;
  padding: 10px 14px;
  cursor: pointer;
  transition: background var(--transition);
  border-bottom: 1px solid var(--card-border);
}
.user-search-item:last-child { border-bottom: none; }
.user-search-item:hover { background: var(--primary-glow); }
.user-search-avatar {
  width: 32px;
  height: 32px;
  border-radius: 50%;
  background: linear-gradient(135deg, var(--primary), var(--secondary));
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight: 700;
  font-size: 14px;
  flex-shrink: 0;
}
.user-search-info { flex: 1; min-width: 0; }
.user-search-name { font-weight: 600; font-size: 13px; }
.user-search-meta { font-size: 11px; color: var(--text-dim); }

/* ── PERSONAL CHAT PAGE ────────────────────────────────────────── */
.pchat-layout {
  display: flex;
  gap: 20px;
  height: calc(100vh - 160px);
}
.pchat-sidebar { width: 220px; flex-shrink: 0; display: flex; flex-direction: column; gap: 12px; }
.pchat-main { flex: 1; display: flex; flex-direction: column; gap: 0; min-width: 0; }
.pchat-main .chat-messages { flex: 1; }
.pchat-modes { display: flex; flex-direction: column; gap: 6px; margin-top: 8px; }
.pchat-mode-btn {
  display: flex;
  align-items: center;
  gap: 10px;
  padding: 10px 14px;
  border: 1px solid var(--card-border);
  border-radius: var(--radius-sm);
  background: transparent;
  color: var(--text);
  font-size: 13px;
  font-weight: 500;
  cursor: pointer;
  transition: all var(--transition);
  text-align: left;
}
.pchat-mode-btn:hover { border-color: var(--primary); background: var(--primary-glow); }
.pchat-mode-btn.active { background: var(--primary); border-color: var(--primary); color: #fff; font-weight: 600; }
.pchat-mode-desc {
  margin-top: 10px;
  font-size: 12px;
  color: var(--text-dim);
  line-height: 1.5;
  padding: 0 2px;
}
.btn-outline {
  background: transparent;
  border: 1px solid var(--card-border);
  color: var(--text-dim);
  transition: all var(--transition);
}
.btn-outline:hover { border-color: var(--danger); color: var(--danger); }
.mt-2 { margin-top: 12px; }
.agent-info summary { padding: 4px 0; }

@media (max-width: 768px) {
  .pchat-layout { flex-direction: column; height: auto; }
  .pchat-sidebar { width: 100%; }
}

/* ── KANBAN BOARD ───────────────────────────────────────────────── */
.kanban-board { display: flex; gap: 16px; overflow-x: auto; padding-bottom: 16px; min-height: 500px; }
.kanban-col { flex: 0 0 240px; min-width: 220px; display: flex; flex-direction: column; gap: 8px; }
.kanban-col-header { padding: 10px 12px; border-radius: var(--radius-sm); font-weight: 700; font-size: 13px; display: flex; align-items: center; gap: 8px; }
.kanban-count { margin-left: auto; background: rgba(255,255,255,0.15); padding: 1px 7px; border-radius: 20px; font-size: 11px; font-weight: 600; }
.kanban-backlog { background: rgba(99,102,241,0.15); color: #818cf8; }
.kanban-todo    { background: rgba(245,158,11,0.15); color: #fbbf24; }
.kanban-doing   { background: rgba(59,130,246,0.15); color: #60a5fa; }
.kanban-review  { background: rgba(168,85,247,0.15); color: #c084fc; }
.kanban-done    { background: rgba(34,197,94,0.15); color: #4ade80; }
.kanban-tasks { display: flex; flex-direction: column; gap: 8px; flex: 1; min-height: 80px; padding: 4px 0; }
.kanban-tasks.drag-over { background: rgba(124,58,237,0.08); border-radius: var(--radius-sm); border: 2px dashed var(--primary); }
.kanban-card { background: var(--card); border: 1px solid var(--card-border); border-radius: var(--radius-sm); padding: 10px 12px; cursor: grab; position: relative; border-left: 3px solid var(--primary); transition: box-shadow 0.2s, transform 0.15s; }
.kanban-card:hover { box-shadow: 0 4px 16px rgba(0,0,0,0.3); transform: translateY(-2px); }
.kanban-card:active { cursor: grabbing; opacity: 0.8; }
.kanban-card.dragging { opacity: 0.4; transform: rotate(2deg); }
.kanban-card-title { font-size: 13px; font-weight: 600; color: var(--text); margin-bottom: 4px; line-height: 1.4; }
.kanban-card-title:hover { color: var(--accent); text-decoration: underline dotted; }
.kanban-card-meta { display: flex; gap: 6px; flex-wrap: wrap; align-items: center; }
.kanban-priority { font-size: 10px; padding: 1px 6px; border-radius: 20px; font-weight: 600; }
.priority-low      { background: rgba(34,197,94,0.15); color: #4ade80; }
.priority-medium   { background: rgba(245,158,11,0.15); color: #fbbf24; }
.priority-high     { background: rgba(239,68,68,0.15); color: #f87171; }
.priority-critical { background: rgba(239,68,68,0.3); color: #ef4444; }
.kanban-assignee { font-size: 11px; color: var(--text-dimmer); }
.kanban-delete { position: absolute; top: 6px; right: 8px; background: none; border: none; color: var(--text-dimmer); cursor: pointer; font-size: 14px; opacity: 0; transition: opacity 0.2s; }
.kanban-card:hover .kanban-delete { opacity: 1; }

/* Color picker dots */
.color-dot { width: 24px; height: 24px; border-radius: 50%; cursor: pointer; border: 3px solid transparent; transition: transform 0.2s, border-color 0.2s; }
.color-dot:hover { transform: scale(1.2); }
.color-dot.active { border-color: #fff; transform: scale(1.2); }

@media (max-width: 768px) {
  .kanban-board { gap: 10px; }
  .kanban-col { flex: 0 0 200px; }
}

/* ── ONLINE STATUS DOTS ─────────────────────────────────────────── */
.online-dot, .offline-dot { display: inline-block; width: 8px; height: 8px; border-radius: 50%; margin-right: 4px; vertical-align: middle; flex-shrink: 0; }
.online-dot { background: #22c55e; box-shadow: 0 0 6px #22c55e; animation: pulse-green 2s infinite; }
.offline-dot { background: #64748b; }
@keyframes pulse-green { 0%,100%{ box-shadow: 0 0 4px #22c55e; } 50%{ box-shadow: 0 0 10px #22c55e; } }

/* ── ONBOARDING ─────────────────────────────────────────────────── */.onboard-roles { display: grid; grid-template-columns: repeat(4, 1fr); gap: 8px; }
.onboard-role-btn { background: var(--bg3); border: 2px solid var(--card-border); color: var(--text); border-radius: var(--radius-sm); padding: 10px 6px; font-size: 12px; font-weight: 600; cursor: pointer; transition: all 0.2s; text-align: center; }
.onboard-role-btn:hover { border-color: var(--primary); background: var(--primary-glow); }
.onboard-role-btn.selected { border-color: var(--primary); background: var(--primary-glow); color: var(--primary); }
.onboard-level-btn { flex: 1; background: var(--bg3); border: 2px solid var(--card-border); color: var(--text); border-radius: var(--radius-sm); padding: 10px; font-size: 13px; font-weight: 600; cursor: pointer; transition: all 0.2s; }
.onboard-level-btn:hover { border-color: var(--primary); }
.onboard-level-btn.active { border-color: var(--primary); background: var(--primary); color: #fff; }

/* ── COMMAND PALETTE ────────────────────────────────────────────── */.cmd-overlay { position: fixed; inset: 0; background: rgba(0,0,0,0.6); backdrop-filter: blur(6px); z-index: 9999; display: flex; align-items: flex-start; justify-content: center; padding-top: 15vh; }
.cmd-box { background: var(--bg2); border: 1px solid var(--card-border); border-radius: var(--radius); width: 100%; max-width: 560px; box-shadow: 0 24px 64px rgba(0,0,0,0.5); overflow: hidden; }
.cmd-search-wrap { display: flex; align-items: center; gap: 10px; padding: 14px 16px; border-bottom: 1px solid var(--card-border); }
.cmd-search-icon { font-size: 18px; opacity: 0.5; flex-shrink: 0; }
.cmd-input { flex: 1; background: none; border: none; outline: none; color: var(--text); font-size: 16px; font-family: var(--font); }
.cmd-input::placeholder { color: var(--text-dimmer); }
.cmd-esc { background: var(--bg3); border: 1px solid var(--card-border); color: var(--text-dimmer); font-size: 11px; padding: 2px 6px; border-radius: 4px; cursor: pointer; flex-shrink: 0; }
.cmd-list { max-height: 360px; overflow-y: auto; padding: 6px; }
.cmd-item { display: flex; align-items: center; gap: 12px; padding: 10px 12px; border-radius: var(--radius-sm); cursor: pointer; transition: background 0.15s; }
.cmd-item:hover, .cmd-item.selected { background: var(--primary-glow); }
.cmd-item-icon { font-size: 18px; width: 28px; text-align: center; flex-shrink: 0; }
.cmd-item-label { font-size: 14px; font-weight: 500; color: var(--text); }
.cmd-item-category { font-size: 11px; color: var(--text-dimmer); margin-left: auto; }
.cmd-footer { display: flex; gap: 16px; padding: 8px 16px; border-top: 1px solid var(--card-border); font-size: 11px; color: var(--text-dimmer); }

/* ── DASHBOARD ──────────────────────────────────────────────────── */
.dash-stats { display: grid; grid-template-columns: repeat(auto-fit, minmax(140px, 1fr)); gap: 16px; margin-bottom: 24px; }
.dash-stat-card { background: var(--card-bg); border: 1px solid var(--card-border); border-radius: var(--radius); padding: 20px; text-align: center; }
.dash-stat-icon { font-size: 28px; margin-bottom: 8px; }
.dash-stat-value { font-size: 32px; font-weight: 800; color: var(--primary); }
.dash-stat-label { font-size: 12px; color: var(--text-dim); margin-top: 4px; }
.dash-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 20px; }
@media (max-width: 700px) { .dash-grid { grid-template-columns: 1fr; } }
.dash-kb-row { display: flex; align-items: center; gap: 10px; margin-bottom: 8px; }
.dash-kb-label { width: 70px; font-size: 13px; text-transform: capitalize; }
.dash-kb-bar { flex: 1; height: 10px; background: var(--bg3); border-radius: 5px; overflow: hidden; }
.dash-kb-fill { height: 100%; background: var(--primary); border-radius: 5px; transition: width 0.5s; }
.dash-kb-count { width: 24px; font-size: 12px; color: var(--text-dim); text-align: right; }
.dash-member-row { display: flex; align-items: center; gap: 12px; padding: 8px 0; border-bottom: 1px solid var(--card-border); }
.dash-member-row:last-child { border-bottom: none; }
.dash-member-avatar { width: 36px; height: 36px; border-radius: 50%; background: var(--primary); color: #fff; display: flex; align-items: center; justify-content: center; font-weight: 700; flex-shrink: 0; }
.dash-member-name { font-weight: 600; font-size: 14px; }
.dash-member-skills { font-size: 12px; color: var(--text-dim); }
.dash-burnout-pill { padding: 3px 8px; border-radius: 12px; font-size: 11px; font-weight: 700; margin-left: auto; flex-shrink: 0; }
.pill-ok { background: #22c55e20; color: #22c55e; }
.pill-warn { background: #f59e0b20; color: #f59e0b; }
.pill-danger { background: #ef444420; color: #ef4444; }
.dash-msg-row { display: flex; gap: 10px; padding: 6px 0; border-bottom: 1px solid var(--card-border); font-size: 13px; }
.dash-msg-row:last-child { border-bottom: none; }
.dash-msg-sender { font-weight: 600; color: var(--primary); min-width: 100px; }
.dash-msg-content { color: var(--text-dim); overflow: hidden; text-overflow: ellipsis; white-space: nowrap; }
.dash-recent-messages { max-height: 300px; overflow-y: auto; }

/* ── REACTIONS ──────────────────────────────────────────────────── */
.msg-reactions { display: flex; gap: 4px; flex-wrap: wrap; margin-top: 6px; }
.reaction-btn { background: var(--bg3); border: 1px solid var(--card-border); border-radius: 12px; padding: 2px 7px; font-size: 14px; cursor: pointer; transition: all 0.15s; line-height: 1.5; }
.reaction-btn:hover { border-color: var(--primary); background: var(--primary-dim); }
.reaction-btn.reaction-active { background: var(--primary-dim); border-color: var(--primary); }
.reaction-count { font-size: 11px; font-weight: 700; color: var(--primary); }

/* ── PIN MESSAGES ───────────────────────────────────────────────── */
.msg-meta { display: flex; align-items: center; gap: 6px; }
.msg-actions { margin-left: auto; }
.msg-action-btn { background: none; border: none; cursor: pointer; font-size: 14px; padding: 2px 4px; opacity: 0.5; transition: opacity 0.2s; }
.msg-action-btn:hover { opacity: 1; }
.msg-pinned { border-left: 3px solid var(--primary) !important; }
.pinned-item { padding: 6px 0; border-bottom: 1px solid var(--card-border); font-size: 13px; }
.pinned-item:last-child { border-bottom: none; }

/* ── @MENTIONS ──────────────────────────────────────────────────── */
.mention { background: var(--primary-dim); color: var(--primary); border-radius: 4px; padding: 1px 4px; font-weight: 600; }
.mention-me { background: #f59e0b30; color: #f59e0b; animation: mention-highlight 1s ease; }
@keyframes mention-highlight { from { background: #f59e0b60; } to { background: #f59e0b30; } }

/* ── AUTH DIVIDER ───────────────────────────────────────────────── */
.auth-divider { display: flex; align-items: center; gap: 10px; margin: 14px 0; }
.auth-divider::before, .auth-divider::after { content: ''; flex: 1; height: 1px; background: var(--card-border); }
.auth-divider span { font-size: 12px; color: var(--text-dim); }

/* ── CHANNELS LAYOUT ────────────────────────────────────────── */
.channels-layout { display: flex; gap: 0; height: calc(100vh - 160px); background: var(--card-bg); border: 1px solid var(--card-border); border-radius: var(--radius); overflow: hidden; }
.channels-sidebar { width: 200px; border-right: 1px solid var(--card-border); flex-shrink: 0; overflow-y: auto; padding: 8px 0; }
.channel-item { display: flex; align-items: center; gap: 8px; padding: 8px 14px; cursor: pointer; border-radius: 0; font-size: 14px; color: var(--text-dim); transition: all 0.15s; }
.channel-item:hover { background: var(--bg3); color: var(--text); }
.channel-item.active { background: var(--primary-dim); color: var(--primary); font-weight: 600; }
.channel-ai-dot { width: 8px; height: 8px; border-radius: 50%; background: #22c55e; margin-left: auto; flex-shrink: 0; }
.channel-ai-dot.off { background: var(--card-border); }
.channels-main { flex: 1; display: flex; flex-direction: column; min-width: 0; }
.channels-header { padding: 12px 16px; border-bottom: 1px solid var(--card-border); }
.channel-title-row { display: flex; align-items: center; gap: 12px; }
.channel-title-row h2 { margin: 0; font-size: 16px; }
.channel-actions { display: flex; gap: 8px; margin-left: auto; }
.channel-desc { font-size: 12px; color: var(--text-dim); margin-top: 4px; }
.btn-sm { padding: 4px 10px; font-size: 12px; border-radius: 6px; }

/* ── IDEAS ROADMAP ── */
.ideas-roadmap { margin-top: 40px; border: 1px solid var(--card-border); border-radius: 16px; overflow: hidden; }
.ideas-toggle { width: 100%; background: var(--bg-card); border: none; color: var(--text); font-size: 16px; font-weight: 600; padding: 16px 20px; cursor: pointer; display: flex; align-items: center; gap: 10px; transition: background .2s; }
.ideas-toggle:hover { background: var(--bg-hover); }
.ideas-chevron { margin-left: auto; transition: transform .3s; }
.ideas-chevron.open { transform: rotate(180deg); }
.ideas-content { padding: 0 20px 24px; background: var(--bg-card); }
.ideas-intro { color: var(--text-dim); font-size: 14px; margin: 0 0 20px; padding-top: 16px; border-top: 1px solid var(--card-border); }
.ideas-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(260px, 1fr)); gap: 16px; }
.idea-card { background: var(--bg-main); border: 1px solid var(--card-border); border-radius: 12px; padding: 16px; display: flex; flex-direction: column; gap: 8px; transition: transform .2s, box-shadow .2s; }
.idea-card:hover { transform: translateY(-2px); box-shadow: 0 6px 20px rgba(0,0,0,.15); }
.idea-icon { font-size: 28px; }
.idea-card h4 { margin: 0; font-size: 14px; font-weight: 600; }
.idea-card p { margin: 0; font-size: 13px; color: var(--text-dim); flex: 1; }
.idea-tag { display: inline-block; padding: 2px 8px; border-radius: 20px; font-size: 11px; font-weight: 600; margin-top: auto; align-self: flex-start; }
.idea-tag-high { background: rgba(239,68,68,.15); color: #ef4444; }
.idea-tag-med  { background: rgba(245,158,11,.15); color: #f59e0b; }
.idea-tag-low  { background: rgba(99,102,241,.15); color: #818cf8; }

/* ── LIGHT THEME (overrides) ──────────────────────────────────────── */
[data-theme="light"] ::-webkit-scrollbar-track { background: #ebebf6; }
[data-theme="light"] ::-webkit-scrollbar-thumb { background: rgba(109,95,240,0.25); }
[data-theme="light"] ::-webkit-scrollbar-thumb:hover { background: rgba(109,95,240,0.45); }
[data-theme="light"] .cmd-box { background: #fff; border-color: rgba(100,90,200,0.15); }
[data-theme="light"] .modal-box, [data-theme="light"] .modal { background: #fff; }
[data-theme="light"] .kanban-col { background: #ebebf6; }
[data-theme="light"] .kanban-card { background: #fff; }
[data-theme="light"] .hero { background: radial-gradient(ellipse at 50% 0%, rgba(109,95,240,0.1) 0%, transparent 70%); }

/* ── XP PROGRESS BAR ────────────────────────────────────────────── */
.xp-progress-wrap { height: 4px; background: rgba(255,255,255,0.08); border-radius: 2px; margin-top: 6px; overflow: hidden; }
.xp-progress-bar { height: 100%; background: linear-gradient(90deg, var(--primary), var(--secondary)); border-radius: 2px; transition: width .5s ease; }

/* ── COUNTDOWN WIDGET ───────────────────────────────────────────── */
.countdown-widget {
  position: fixed;
  bottom: 80px;
  right: 20px;
  z-index: 500;
  background: var(--card);
  border: 1px solid var(--card-border);
  border-radius: var(--radius);
  padding: 14px 18px;
  min-width: 220px;
  box-shadow: 0 8px 32px rgba(0,0,0,0.4);
  animation: fadeIn .3s ease;
}
.countdown-header { display: flex; align-items: center; gap: 8px; font-size: 12px; font-weight: 600; color: var(--text-dim); margin-bottom: 10px; }
.countdown-header span { flex: 1; }
.countdown-display { display: flex; align-items: center; justify-content: center; gap: 4px; }
.countdown-unit { text-align: center; background: var(--bg3); border-radius: var(--radius-sm); padding: 8px 10px; min-width: 48px; }
.countdown-unit span { display: block; font-size: 22px; font-weight: 800; background: linear-gradient(135deg, var(--primary), var(--secondary)); -webkit-background-clip: text; background-clip: text; -webkit-text-fill-color: transparent; line-height: 1; }
.countdown-unit small { display: block; font-size: 10px; color: var(--text-dim); margin-top: 2px; text-transform: uppercase; letter-spacing: 1px; -webkit-text-fill-color: var(--text-dim); }
.countdown-sep { font-size: 20px; font-weight: 800; color: var(--primary); padding-bottom: 10px; }
.countdown-urgent .countdown-unit span { background: linear-gradient(135deg, #ef4444, #f97316); -webkit-background-clip: text; background-clip: text; -webkit-text-fill-color: transparent; }
@keyframes countdown-pulse { 0%,100%{opacity:1} 50%{opacity:.6} }
.countdown-urgent { animation: countdown-pulse 1s infinite; }
.countdown-fab {
  position: fixed;
  bottom: 20px;
  right: 20px;
  z-index: 499;
  width: 48px;
  height: 48px;
  border-radius: 50%;
  background: var(--primary);
  color: #fff;
  border: none;
  font-size: 20px;
  cursor: pointer;
  box-shadow: 0 4px 16px rgba(124,111,247,0.4);
  transition: all var(--transition);
  display: flex;
  align-items: center;
  justify-content: center;
}
.countdown-fab:hover { transform: scale(1.1); box-shadow: 0 6px 24px rgba(124,111,247,0.6); }

/* ── TEAM NOTES ────────────────────────────────────────────────── */
.notes-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(280px, 1fr)); gap: 16px; margin-top: 4px; }
.note-card {
  background: var(--card);
  border: 1px solid var(--card-border);
  border-radius: var(--radius);
  padding: 18px;
  position: relative;
  display: flex;
  flex-direction: column;
  gap: 8px;
  transition: transform var(--transition), box-shadow var(--transition);
  border-left: 4px solid var(--primary);
  animation: fadeIn .2s ease;
}
.note-card:hover { transform: translateY(-2px); box-shadow: var(--shadow); }
.note-card-title { font-weight: 700; font-size: 15px; }
.note-card-body { font-size: 13px; color: var(--text-dim); line-height: 1.7; flex: 1; max-height: 140px; overflow: hidden; }
.note-card-body pre { margin: 6px 0; border-radius: 6px; }
.note-card-footer { display: flex; justify-content: space-between; align-items: center; padding-top: 8px; border-top: 1px solid var(--card-border); font-size: 11px; color: var(--text-dimmer); }
.note-card-actions { display: flex; gap: 6px; }
.note-del-btn { background: none; border: none; color: var(--text-dimmer); cursor: pointer; font-size: 13px; padding: 2px 6px; border-radius: 4px; transition: color var(--transition); }
.note-del-btn:hover { color: var(--danger); }
.notes-empty { grid-column: 1/-1; text-align: center; padding: 60px 20px; color: var(--text-dim); }

/* ── CODE BLOCK HIGHLIGHT ───────────────────────────────────────── */
.ai-content pre, .msg-body pre, .note-card-body pre { background: #1a1a2e; border-radius: 8px; overflow: auto; margin: 10px 0; }
.ai-content pre code, .msg-body pre code { font-family: 'Fira Code', 'Consolas', monospace; font-size: 13px; line-height: 1.6; padding: 14px 16px; display: block; }
.ai-content code:not(pre code), .msg-body code:not(pre code) { background: rgba(124,111,247,0.12); color: var(--secondary); padding: 2px 6px; border-radius: 4px; font-family: 'Fira Code', monospace; font-size: 12px; }

/* ── KANBAN SEARCH ─────────────────────────────────────────────── */
.kanban-search-wrap { position: relative; }
.kanban-search-wrap input { padding-left: 36px; }
.kanban-search-icon { position: absolute; left: 12px; top: 50%; transform: translateY(-50%); color: var(--text-dim); font-size: 14px; pointer-events: none; }
.kanban-card.filtered-out { display: none !important; }

/* ── TOAST IMPROVEMENTS ──────────────────────────────────────────── */
.toast.info { background: linear-gradient(135deg, #3b82f6, #1d4ed8); }
.toast.warning { background: linear-gradient(135deg, #f59e0b, #d97706); }

/* ── SKIP TO CONTENT LINK ──────────────────────────────────────── */
.skip-link { position: absolute; top: -999px; left: 0; z-index: 9999; background: var(--primary); color: #fff; padding: 8px 16px; border-radius: 0 0 8px 0; font-weight: 700; text-decoration: none; }
.skip-link:focus { top: 0; }

/* ── SKELETON LOADING ─────────────────────────────────────────────── */
@keyframes shimmer { 0%{background-position:-200% 0} 100%{background-position:200% 0} }
.skeleton { background: linear-gradient(90deg, var(--bg3) 25%, var(--bg2) 50%, var(--bg3) 75%); background-size: 200% 100%; animation: shimmer 1.5s infinite; border-radius: var(--radius-sm); }
.skeleton-text { height: 14px; margin-bottom: 8px; border-radius: 4px; }
.skeleton-text.w-80 { width: 80%; }
.skeleton-text.w-60 { width: 60%; }
.skeleton-text.w-40 { width: 40%; }

/* ── FOCUS RING ACCESSIBILITY ─────────────────────────────────────── */
.btn:focus-visible, .input:focus-visible, .nav-link:focus-visible { outline: 2px solid var(--primary); outline-offset: 2px; }

/* ── IMPROVED EMPTY STATE ─────────────────────────────────────────── */
.empty-state { text-align: center; padding: 40px 20px; color: var(--text-dim); font-size: 14px; }

/* ── CHAT TIMESTAMP ──────────────────────────────────────────────────── */
.msg-time { font-size: 10px; color: var(--text-dimmer); margin-left: auto; white-space: nowrap; }

/* ── TYPING INDICATOR ────────────────────────────────────────────────── */
.typing-indicator { display: flex; align-items: center; gap: 4px; padding: 6px 12px; }
.typing-dot { width: 7px; height: 7px; background: var(--text-dim); border-radius: 50%; animation: typingBounce .7s infinite; }
.typing-dot:nth-child(2) { animation-delay: .15s; }
.typing-dot:nth-child(3) { animation-delay: .3s; }
@keyframes typingBounce { 0%,80%,100%{transform:translateY(0)} 40%{transform:translateY(-6px)} }

/* ── BTN-DANGER ───────────────────────────────────────────────────────── */
.btn-danger { background: rgba(239,68,68,.15); color: var(--danger); border: 1px solid rgba(239,68,68,.3); }
.btn-danger:hover { background: var(--danger); color: #fff; }

/* ── INPUT SHAKE (validation error) ────────────────────────────────────── */
@keyframes shake { 0%,100%{transform:translateX(0)} 20%,60%{transform:translateX(-6px)} 40%,80%{transform:translateX(6px)} }
.input.shake { animation: shake .4s ease; border-color: var(--error) !important; box-shadow: 0 0 0 2px rgba(239,68,68,.25) !important; }
.quiz-q-card.shake { animation: shake .4s ease; }
@keyframes xpFloat { 0%{opacity:1;transform:translateY(0) scale(1)} 80%{opacity:1;transform:translateY(-50px) scale(1.1)} 100%{opacity:0;transform:translateY(-70px) scale(.9)} }
.xp-float-badge {
  position: fixed; z-index: 9999; pointer-events: none;
  color: var(--primary); font-size: 18px; font-weight: 900;
  animation: xpFloat 1.6s ease forwards;
  text-shadow: 0 2px 10px rgba(124,111,247,.6);
}
@keyframes bnav-pulse { 0%{transform:scale(1)} 40%{transform:scale(1.25)} 100%{transform:scale(1)} }
.bnav-item.active .bnav-icon { animation: bnav-pulse .3s ease; }

/* ── PAGE TRANSITION ─────────────────────────────────────────────────── */
.page.active { animation: pageIn .2s ease; }
@keyframes pageIn { from { opacity:0; transform:translateY(10px); } to { opacity:1; transform:translateY(0); } }

/* ── MOBILE SIDEBAR BACKDROP ─────────────────────────────────────────── */
.sidebar-backdrop { display:none; position:fixed; inset:0; background:rgba(0,0,0,.55); z-index:999; -webkit-backdrop-filter:blur(2px); backdrop-filter:blur(2px); transition:opacity .2s; }
.sidebar-backdrop.visible { display:block; }
@media (min-width: 769px) { .sidebar-backdrop { display:none !important; } }

/* ── KANBAN DUE DATE ─────────────────────────────────────────────── */
.kanban-due { display:inline-block; font-size:10px; font-weight:600; padding:2px 7px; border-radius:10px; margin-top:6px; }
.due-ok      { background:rgba(34,197,94,.15);  color:#22c55e; }
.due-soon    { background:rgba(245,158,11,.15); color:#f59e0b; }
.due-today   { background:rgba(249,115,22,.2);  color:#f97316; }
.due-overdue { background:rgba(239,68,68,.2);   color:#ef4444; animation: pulse-red 1.5s infinite; }

/* ═══════════════════════════════════════════════════════════════
   NEW LAYOUT v3 — Top bar + Bottom nav + Side drawer
   ═══════════════════════════════════════════════════════════════ */

/* Hide old sidebar & hamburger */
.sidebar   { display: none !important; }
.hamburger { display: none !important; }

/* ── TOP BAR ─────────────────────────────────────────────────── */
.top-bar {
  position: fixed; top: 0; left: 0; right: 0;
  height: 56px;
  background: rgba(8,8,16,.94);
  backdrop-filter: blur(14px); -webkit-backdrop-filter: blur(14px);
  border-bottom: 1px solid var(--card-border);
  display: flex; align-items: center; gap: 10px; padding: 0 14px;
  z-index: 200;
}
.top-bar-menu {
  background: none; border: none; color: var(--text); font-size: 22px;
  cursor: pointer; width: 36px; height: 36px;
  display: flex; align-items: center; justify-content: center;
  border-radius: 8px; transition: background var(--transition); flex-shrink: 0;
}
.top-bar-menu:hover { background: var(--bg-hover); }
.top-bar-brand {
  font-size: 17px; font-weight: 800;
  background: linear-gradient(135deg, var(--primary), var(--secondary));
  -webkit-background-clip: text; background-clip: text; -webkit-text-fill-color: transparent;
  flex: 1; user-select: none;
}
.top-bar-right { display: flex; align-items: center; gap: 10px; flex-shrink: 0; }
.top-bar-xp {
  font-size: 12px; color: var(--text-dim);
  display: flex; align-items: center; gap: 4px;
  background: rgba(124,111,247,.12); border-radius: 20px; padding: 4px 10px;
}
.top-bar-xp .xp-val { color: var(--primary); font-weight: 700; }
.top-bar-avatar {
  width: 34px; height: 34px; border-radius: 50%;
  background: linear-gradient(135deg, var(--primary), var(--secondary));
  color: #fff; font-weight: 800; font-size: 14px;
  display: flex; align-items: center; justify-content: center;
  cursor: pointer; border: 2px solid transparent;
  transition: border-color var(--transition); flex-shrink: 0;
}
.top-bar-avatar:hover { border-color: var(--primary); }

/* ── SIDE DRAWER ─────────────────────────────────────────────── */
.drawer-overlay {
  display: none; position: fixed; inset: 0;
  background: rgba(0,0,0,.6);
  backdrop-filter: blur(4px); -webkit-backdrop-filter: blur(4px);
  z-index: 300;
}
.drawer-overlay.open { display: block; }
.side-drawer {
  position: fixed; top: 0; left: -280px; width: 270px; height: 100vh;
  background: var(--bg2); border-right: 1px solid var(--card-border);
  z-index: 301; transition: left var(--transition-slow);
  display: flex; flex-direction: column; overflow-y: auto;
}
.side-drawer.open { left: 0; box-shadow: 6px 0 32px rgba(0,0,0,.5); }
.drawer-header {
  padding: 18px 16px;
  border-bottom: 1px solid var(--card-border);
  display: flex; align-items: center; justify-content: space-between; flex-shrink: 0;
}
.drawer-brand {
  font-size: 19px; font-weight: 800;
  background: linear-gradient(135deg, var(--primary), var(--secondary));
  -webkit-background-clip: text; background-clip: text; -webkit-text-fill-color: transparent;
}
.drawer-close {
  background: none; border: none; color: var(--text-dim);
  font-size: 18px; cursor: pointer; line-height: 1;
}
.drawer-links { flex: 1; padding: 8px 0; }
.drawer-link {
  display: flex; align-items: center; gap: 12px;
  padding: 11px 20px;
  color: var(--text-dim); text-decoration: none; font-size: 14px;
  cursor: pointer; transition: all var(--transition);
  background: none; border: none; width: 100%; text-align: left;
  font-family: inherit;
}
.drawer-link:hover { color: var(--text); background: var(--bg-hover); }
.drawer-link.active { color: var(--primary); background: rgba(124,111,247,.1); }
.drawer-link .dl-icon { font-size: 17px; width: 22px; text-align: center; flex-shrink: 0; }
.drawer-sep { height: 1px; background: var(--card-border); margin: 6px 16px; }
.drawer-footer { padding: 12px 16px; border-top: 1px solid var(--card-border); flex-shrink: 0; }
.drawer-lang { display: flex; gap: 6px; margin-bottom: 10px; }
.drawer-theme-btn {
  width: 100%; text-align: left; background: none;
  border: 1px solid var(--card-border); border-radius: 8px;
  padding: 8px 12px; color: var(--text-dim); cursor: pointer; font-size: 13px;
  transition: all var(--transition); font-family: inherit;
}
.drawer-theme-btn:hover { border-color: var(--primary); color: var(--primary); }

/* ── BOTTOM NAV ──────────────────────────────────────────────── */
.bottom-nav {
  position: fixed; bottom: 0; left: 0; right: 0;
  height: 62px;
  background: rgba(14,14,26,.97);
  backdrop-filter: blur(20px); -webkit-backdrop-filter: blur(20px);
  border-top: 1px solid var(--card-border);
  display: flex; align-items: stretch;
  z-index: 200;
  padding-bottom: env(safe-area-inset-bottom, 0px);
}
.bnav-item {
  flex: 1; display: flex; flex-direction: column;
  align-items: center; justify-content: center; gap: 3px;
  color: var(--text-dimmer); background: none; border: none; outline: none;
  cursor: pointer; font-size: 10px; font-weight: 600; letter-spacing: .3px;
  transition: color var(--transition); padding: 8px 4px; position: relative;
  font-family: inherit;
}
.bnav-item:hover { color: var(--text-dim); }
.bnav-item.active { color: var(--primary); }
.bnav-icon { font-size: 21px; line-height: 1; }
.bnav-item.active::after {
  content: '';
  position: absolute; top: 0; left: 20%; right: 20%;
  height: 2px; background: var(--primary);
  border-radius: 0 0 4px 4px;
}

/* ── MAIN CONTENT (new layout override) ──────────────────────── */
.main-content {
  margin-left: 0 !important;
  width: 100% !important;
  padding: 68px 16px 74px !important;
}

/* ── DESKTOP: collapsible sidebar (icon-only → hover to expand) ── */
@media (min-width: 768px) {
  /* Hide mobile-only elements */
  .top-bar-menu { display: none !important; }
  .bottom-nav   { display: none !important; }
  .drawer-overlay { display: none !important; }
  .drawer-close { display: none !important; }

  /* Sidebar: collapsed by default (icons only) */
  .side-drawer {
    left: 0 !important;
    top: 56px !important;
    width: 62px !important;
    height: calc(100vh - 56px) !important;
    overflow: hidden !important;
    box-shadow: 1px 0 0 var(--card-border) !important;
    transition: width .22s cubic-bezier(.4,0,.2,1), box-shadow .22s !important;
    z-index: 302 !important;
  }

  /* Expand on hover */
  .side-drawer:hover {
    width: 270px !important;
    box-shadow: 4px 0 24px rgba(0,0,0,.35) !important;
    overflow-y: auto !important;
  }

  /* Hide text, show only icons when collapsed */
  .side-drawer:not(:hover) .drawer-link {
    font-size: 0 !important;
    justify-content: center !important;
    padding: 11px 0 !important;
    gap: 0 !important;
  }
  .side-drawer:not(:hover) .drawer-link .dl-icon {
    font-size: 20px !important;
    width: auto !important;
  }
  .side-drawer:not(:hover) .drawer-brand {
    font-size: 0 !important;
  }
  .side-drawer:not(:hover) .drawer-sep {
    margin: 6px 10px !important;
  }
  .side-drawer:not(:hover) .drawer-footer {
    padding: 12px 8px !important;
  }
  .side-drawer:not(:hover) .drawer-lang button {
    font-size: 0 !important;
    padding: 6px !important;
  }
  .side-drawer:not(:hover) .drawer-theme-btn {
    font-size: 0 !important;
    padding: 8px !important;
    text-align: center !important;
  }

  /* Ensure drawer-links don't wrap text so overflow:hidden clips it cleanly */
  .drawer-link {
    white-space: nowrap !important;
  }

  /* Hide brand text, show only emoji when collapsed */
  .drawer-brand {
    overflow: hidden !important;
    white-space: nowrap !important;
  }

  /* Main content: offset by collapsed sidebar width */
  .main-content {
    margin-left: 62px !important;
    padding: 80px 32px 40px !important;
    width: calc(100% - 62px) !important;
  }
}

/* ── TEAMS HUB ───────────────────────────────────────────────── */
.teams-grid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(240px, 1fr));
  gap: 14px; margin-top: 20px;
}
.team-hub-card {
  background: var(--card); border: 1px solid var(--card-border);
  border-radius: var(--radius); padding: 20px; cursor: pointer;
  transition: all var(--transition); position: relative; overflow: hidden;
}
.team-hub-card::before {
  content: ''; position: absolute; top: 0; left: 0; right: 0; height: 3px;
  background: linear-gradient(90deg, var(--primary), var(--secondary));
}
.team-hub-card:hover { border-color: var(--primary); transform: translateY(-2px); box-shadow: var(--shadow); }
.team-hub-icon { font-size: 28px; margin-bottom: 8px; }
.team-hub-name { font-weight: 700; font-size: 15px; margin-bottom: 4px; }
.team-hub-theme { font-size: 12px; color: var(--text-dim); margin-bottom: 10px; line-height: 1.4; }
.team-hub-meta { display: flex; gap: 10px; font-size: 11px; color: var(--text-dimmer); }
.team-hub-code { font-size: 11px; color: var(--text-dimmer); font-family: monospace; margin-top: 8px; }
.teams-empty { text-align: center; padding: 60px 20px; color: var(--text-dim); grid-column: 1 / -1; }
.teams-empty .empty-icon { font-size: 56px; margin-bottom: 16px; display: block; }

/* Team inner view */
.team-inner-header {
  display: flex; align-items: center; gap: 12px;
  padding-bottom: 14px; border-bottom: 1px solid var(--card-border); margin-bottom: 0;
}
.team-back-btn {
  background: none; border: 1px solid var(--card-border);
  border-radius: 8px; padding: 6px 12px; color: var(--text-dim);
  cursor: pointer; font-size: 13px; transition: all var(--transition); flex-shrink: 0;
}
.team-back-btn:hover { border-color: var(--primary); color: var(--primary); }
.team-inner-name { font-size: 17px; font-weight: 700; flex: 1; }
.team-inner-badge { font-size: 11px; color: var(--text-dimmer); font-family: monospace; }
.team-tabs-strip {
  display: flex; overflow-x: auto; border-bottom: 1px solid var(--card-border);
  margin-bottom: 20px; scrollbar-width: none;
}
.team-tabs-strip::-webkit-scrollbar { display: none; }
.team-tab-btn {
  padding: 11px 16px; background: none; border: none;
  border-bottom: 2px solid transparent; color: var(--text-dim);
  cursor: pointer; font-size: 13px; font-weight: 600;
  white-space: nowrap; transition: all var(--transition); font-family: inherit;
}
.team-tab-btn:hover { color: var(--text); }
.team-tab-btn.active { color: var(--primary); border-bottom-color: var(--primary); }

/* Team tab — quick actions grid */
.team-actions-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(160px, 1fr)); gap: 12px; }
.team-action-card {
  background: var(--card); border: 1px solid var(--card-border);
  border-radius: 14px; padding: 20px 16px; cursor: pointer;
  text-align: center; transition: all var(--transition);
}
.team-action-card:hover { border-color: var(--primary); transform: translateY(-2px); }
.team-action-icon { font-size: 30px; display: block; margin-bottom: 10px; }
.team-action-label { font-size: 13px; font-weight: 600; }

/* Files tab */
.files-dropzone {
  border: 2px dashed var(--card-border); border-radius: var(--radius);
  padding: 36px 20px; text-align: center; color: var(--text-dim);
  transition: all var(--transition); cursor: pointer; margin-bottom: 16px;
}
.files-dropzone:hover,.files-dropzone.drag-over { border-color: var(--primary); background: var(--bg-hover); }
.files-list { display: flex; flex-direction: column; gap: 8px; }
.file-item {
  display: flex; align-items: center; gap: 12px;
  padding: 10px 14px; background: var(--card);
  border: 1px solid var(--card-border); border-radius: 10px;
}
.file-icon { font-size: 22px; flex-shrink: 0; }
.file-info { flex: 1; min-width: 0; }
.file-name { font-size: 13px; font-weight: 600; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }
.file-size { font-size: 11px; color: var(--text-dim); }
.file-del { background: none; border: none; color: var(--text-dimmer); cursor: pointer; font-size: 16px; padding: 4px; }
.file-del:hover { color: var(--danger); }

/* ── LEARNING MODULE ────────────────────────────────────────── */
.learn-hero {
  text-align: center; padding: 40px 20px 32px;
}
.learn-hero-icon { font-size: 64px; display: block; margin-bottom: 12px; }
.learn-hero h1 {
  font-size: clamp(1.6rem, 5vw, 2.4rem); font-weight: 800;
  background: linear-gradient(135deg, var(--primary), var(--secondary));
  -webkit-background-clip: text; background-clip: text; -webkit-text-fill-color: transparent;
  margin-bottom: 8px;
}
.learn-hero p { color: var(--text-dim); font-size: 14px; }
.learn-form-card {
  background: var(--card); border: 1px solid var(--card-border);
  border-radius: var(--radius); padding: 28px; max-width: 500px; margin: 0 auto;
}
.learn-lesson-card {
  display: flex; align-items: center; gap: 14px;
  padding: 16px; background: var(--card);
  border: 1px solid var(--card-border); border-radius: var(--radius);
  cursor: pointer; transition: all var(--transition); margin-bottom: 10px;
}
.learn-lesson-card:hover { border-color: var(--primary); transform: translateX(4px); }
.learn-lesson-card.done { border-color: var(--success); opacity: .7; }
.lesson-num {
  width: 36px; height: 36px; border-radius: 50%;
  background: rgba(124,111,247,.15); color: var(--primary);
  font-weight: 800; font-size: 14px;
  display: flex; align-items: center; justify-content: center; flex-shrink: 0;
}
.lesson-num.done-num { background: rgba(34,197,94,.15); color: var(--success); }
.lesson-info { flex: 1; min-width: 0; }
.lesson-title { font-size: 14px; font-weight: 600; margin-bottom: 3px; }
.lesson-meta { font-size: 12px; color: var(--text-dim); }
.lesson-arrow { color: var(--text-dimmer); font-size: 16px; }
.learn-lesson-content-wrap { max-width: 740px; }
.learn-lesson-actions { margin-top: 24px; display: flex; gap: 12px; flex-wrap: wrap; }

/* Quiz */
.quiz-container { max-width: 680px; }
.quiz-q-card {
  background: var(--card); border: 1px solid var(--card-border);
  border-radius: var(--radius); padding: 20px; margin-bottom: 14px;
}
.quiz-q-text { font-size: 15px; font-weight: 600; margin-bottom: 14px; line-height: 1.5; }
.quiz-options { display: flex; flex-direction: column; gap: 8px; }
.quiz-option {
  display: flex; align-items: center; gap: 10px;
  padding: 10px 14px; border: 1px solid var(--card-border);
  border-radius: 10px; cursor: pointer; transition: all var(--transition); font-size: 13px;
}
.quiz-option:hover { border-color: var(--primary); background: var(--bg-hover); }
.quiz-option.selected { border-color: var(--primary); background: rgba(124,111,247,.1); }
.quiz-option.correct { border-color: var(--success)!important; background: rgba(34,197,94,.1)!important; color: var(--success)!important; pointer-events: none; }
.quiz-option.wrong { border-color: var(--danger)!important; background: rgba(239,68,68,.1)!important; color: var(--danger)!important; pointer-events: none; }
.quiz-option input[type=radio] { display: none; }

/* Results */
.result-card { text-align: center; padding: 48px 24px; max-width: 440px; margin: 0 auto; }
.result-circle {
  width: 110px; height: 110px; border-radius: 50%;
  font-size: 2.2rem; font-weight: 800;
  display: flex; align-items: center; justify-content: center;
  margin: 0 auto 20px; border: 4px solid;
}
.result-pass { border-color: var(--success)!important; color: var(--success)!important; background: rgba(34,197,94,.1)!important; }
.result-ok   { border-color: var(--warning)!important; color: var(--warning)!important; background: rgba(245,158,11,.1)!important; }
.result-fail { border-color: var(--danger)!important;  color: var(--danger)!important;  background: rgba(239,68,68,.1)!important; }
.result-xp { font-size: 22px; font-weight: 800; color: var(--primary); margin: 10px 0; }
.result-msg { font-size: 15px; color: var(--text-dim); margin-bottom: 24px; }

/* Shared back button */
.back-btn {
  display: inline-flex; align-items: center; gap: 8px;
  background: none; border: 1px solid var(--card-border); border-radius: 8px;
  padding: 7px 16px; color: var(--text-dim); cursor: pointer; font-size: 13px;
  margin-bottom: 20px; transition: all var(--transition); font-family: inherit;
}
.back-btn:hover { border-color: var(--primary); color: var(--primary); }

/* Past courses small list */
.past-course-item {
  display: flex; align-items: center; gap: 12px;
  padding: 10px 14px; background: var(--card);
  border: 1px solid var(--card-border); border-radius: 10px;
  cursor: pointer; margin-bottom: 8px; transition: all var(--transition);
}
.past-course-item:hover { border-color: var(--primary); }
.past-course-info { flex: 1; }
.past-course-title { font-size: 13px; font-weight: 600; }
.past-course-meta { font-size: 11px; color: var(--text-dim); }

/* ── HACKATHON CATALOG ───────────────────────────────────────── */
.catalog-grid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
  gap: 16px;
}
.catalog-card {
  background: var(--card); border: 1px solid var(--card-border);
  border-radius: var(--radius); padding: 20px; cursor: pointer;
  transition: all var(--transition); position: relative; overflow: hidden;
}
.catalog-card:hover { border-color: var(--primary); transform: translateY(-3px); box-shadow: var(--shadow); }
.catalog-card-top {
  display: flex; align-items: flex-start; gap: 10px; margin-bottom: 12px;
}
.catalog-emoji { font-size: 28px; flex-shrink: 0; }
.catalog-name { font-size: 14px; font-weight: 700; line-height: 1.3; }
.catalog-org  { font-size: 11px; color: var(--text-dim); margin-top: 2px; }
.catalog-desc { font-size: 12px; color: var(--text-dim); line-height: 1.5; margin-bottom: 12px;
  display: -webkit-box; -webkit-line-clamp: 2; -webkit-box-orient: vertical; overflow: hidden; }
.catalog-tags { display: flex; flex-wrap: wrap; gap: 5px; margin-bottom: 12px; }
.catalog-tag {
  font-size: 10px; font-weight: 600; padding: 2px 8px;
  border-radius: 20px; background: rgba(124,111,247,.12); color: var(--primary);
}
.catalog-meta { display: flex; flex-wrap: wrap; gap: 8px; font-size: 11px; color: var(--text-dimmer); }
.catalog-meta span { display: flex; align-items: center; gap: 3px; }
.catalog-match-bar {
  height: 3px; background: var(--bg-hover); border-radius: 2px; margin-top: 12px;
}
.catalog-match-fill {
  height: 100%; border-radius: 2px;
  background: linear-gradient(90deg, var(--primary), var(--secondary));
  transition: width .5s ease;
}
.catalog-match-label { font-size: 10px; color: var(--primary); font-weight: 700; margin-top: 4px; text-align: right; }
.catalog-action-row { display: flex; gap: 8px; margin-top: 14px; }

/* Detail side panel */
.catalog-detail-overlay {
  display: none; position: fixed; inset: 0; background: rgba(0,0,0,.5);
  backdrop-filter: blur(4px); z-index: 400;
}
.catalog-detail-overlay.open { display: block; }
.catalog-detail-panel {
  position: fixed; right: -520px; top: 56px; bottom: 0; width: 500px; max-width: 95vw;
  background: var(--bg2); border-left: 1px solid var(--card-border);
  z-index: 401; overflow-y: auto; padding: 24px; transition: right .3s ease;
}
.catalog-detail-panel.open { right: 0; }
.catalog-detail-header { display: flex; align-items: flex-start; gap: 14px; margin-bottom: 20px; }
.catalog-detail-emoji { font-size: 48px; }
.catalog-detail-info { flex: 1; }
.catalog-detail-name { font-size: 20px; font-weight: 800; line-height: 1.3; margin-bottom: 4px; }
.catalog-detail-org  { font-size: 13px; color: var(--text-dim); }
.catalog-difficulty-dots { display: flex; gap: 4px; margin-top: 8px; }
.catalog-difficulty-dot {
  width: 10px; height: 10px; border-radius: 50%;
  background: var(--card-border);
}
.catalog-difficulty-dot.filled { background: var(--primary); }

/* ── DAILY CHALLENGE ─────────────────────────────────────────── */
.daily-challenge-wrap {
  margin: 0 0 28px;
}
.daily-challenge-card {
  background: linear-gradient(135deg, rgba(124,111,247,.15), rgba(84,163,255,.1));
  border: 1px solid rgba(124,111,247,.35);
  border-radius: var(--radius);
  padding: 20px 24px;
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 20px;
  flex-wrap: wrap;
}
.dc-label {
  font-size: 11px; font-weight: 700; color: var(--primary);
  letter-spacing: .6px; text-transform: uppercase; margin-bottom: 6px;
}
.dc-emoji { font-size: 32px; margin-bottom: 4px; }
.dc-title { font-size: 18px; font-weight: 800; margin-bottom: 6px; }
.dc-desc  { font-size: 13px; color: var(--text-dim); line-height: 1.6; max-width: 420px; }
.dc-xp    { margin-top: 8px; font-size: 13px; font-weight: 700; color: #f5c518; }
.dc-right { display:flex; flex-direction:column; align-items:flex-end; gap:10px; flex-shrink:0; }
.dc-streak { font-size:16px; font-weight:800; }
.dc-btn   { min-width: 120px; }
.dc-done-btn { min-width: 120px; }
.dc-done-badge {
  background: rgba(100,220,120,.15); border: 1px solid rgba(100,220,120,.4);
  color: #64dc78; border-radius: 20px; padding: 6px 16px; font-size: 13px; font-weight: 700;
}

/* ── POMODORO WIDGET ────────────────────────────────────── */
.pomodoro-widget {
  position: fixed; bottom: 80px; right: 16px;
  width: 220px;
  background: var(--bg2);
  border: 1px solid var(--card-border);
  border-radius: 16px;
  padding: 16px;
  box-shadow: 0 8px 32px rgba(0,0,0,.4);
  z-index: 500;
}
.pomo-header {
  display: flex; align-items: center; justify-content: space-between;
  margin-bottom: 12px;
}
.pomo-mode { font-size: 13px; font-weight: 700; }
.pomo-icon-btn {
  background: none; border: 1px solid var(--card-border); border-radius: 6px;
  color: var(--text-dim); cursor: pointer; padding: 2px 7px; font-size: 14px;
  transition: all var(--transition);
}
.pomo-icon-btn:hover { border-color: var(--primary); color: var(--primary); }
.pomo-time {
  text-align: center; font-size: 42px; font-weight: 900;
  font-variant-numeric: tabular-nums; letter-spacing: 2px;
  margin-bottom: 8px;
  background: linear-gradient(135deg, var(--primary), var(--secondary));
  -webkit-background-clip: text; background-clip: text; -webkit-text-fill-color: transparent;
}
.pomo-progress-wrap {
  height: 4px; background: var(--card-border); border-radius: 2px; margin-bottom: 12px; overflow: hidden;
}
.pomo-progress-bar {
  height: 100%; background: var(--primary); border-radius: 2px;
  transition: width .5s linear;
  width: 100%;
}
.pomo-controls { text-align: center; margin-bottom: 8px; }
.pomo-sessions { text-align: center; font-size: 12px; color: var(--text-dim); }

/* ── COUNTDOWN WIDGET ────────────────────────────────────── */
.countdown-widget {
  position: fixed; bottom: 80px; left: 70px;
  width: 260px;
  background: var(--bg2);
  border: 1px solid var(--card-border);
  border-radius: 16px; padding: 14px 16px;
  box-shadow: 0 8px 32px rgba(0,0,0,.4);
  z-index: 500;
}
.cdw-header {
  display: flex; align-items: center; justify-content: space-between;
  font-size: 12px; font-weight: 700; color: var(--text-dim);
  margin-bottom: 8px;
}
.cdw-name { font-size: 14px; font-weight: 800; margin-bottom: 10px; color: var(--primary); }
.cdw-display {
  display: flex; align-items: center; justify-content: center;
  gap: 4px; margin-bottom: 12px;
}
.cdw-unit { text-align: center; }
.cdw-unit span { font-size: 28px; font-weight: 900; font-variant-numeric: tabular-nums; }
.cdw-unit small { display: block; font-size: 10px; color: var(--text-dim); }
.cdw-sep { font-size: 24px; font-weight: 900; color: var(--primary); padding-bottom: 12px; }

/* ── FAB GROUP ──────────────────────────────────────────── */
.fab-group {
  position: fixed; bottom: 80px; right: 16px;
  display: flex; flex-direction: column-reverse; align-items: flex-end; gap: 10px;
  z-index: 499;
}
@media (min-width: 768px) {
  .fab-group { bottom: 24px; }
  .pomodoro-widget { bottom: 80px; }
  .countdown-widget { bottom: 80px; }
}
.fab-main {
  width: 52px; height: 52px; border-radius: 50%;
  background: linear-gradient(135deg, var(--primary), var(--secondary));
  border: none; color: #fff; font-size: 22px;
  cursor: pointer; box-shadow: 0 4px 20px rgba(124,111,247,.5);
  transition: transform var(--transition), box-shadow var(--transition);
  display: flex; align-items: center; justify-content: center;
}
.fab-main:hover { transform: scale(1.1); box-shadow: 0 6px 28px rgba(124,111,247,.7); }
.fab-menu { display: flex; flex-direction: column; gap: 8px; align-items: flex-end; }
.fab-item {
  width: 42px; height: 42px; border-radius: 50%;
  background: var(--bg2); border: 1px solid var(--card-border);
  font-size: 20px; cursor: pointer;
  box-shadow: 0 2px 12px rgba(0,0,0,.3);
  transition: transform var(--transition); display: flex; align-items: center; justify-content: center;
}
.fab-item:hover { transform: scale(1.15); border-color: var(--primary); }

/* ── XP Level Bar in Topbar ─────────────────────────────────────── */
.top-bar-xp {
  display: flex; align-items: center; gap: 8px; cursor: pointer;
  padding: 4px 10px; border-radius: 20px; background: rgba(255,255,255,.07);
  transition: background .2s; flex-shrink: 0;
}
.top-bar-xp:hover { background: rgba(255,255,255,.14); }
.tbxp-icon { font-size: 18px; line-height: 1; }
.tbxp-info { display: flex; flex-direction: column; gap: 3px; min-width: 90px; }
.tbxp-meta { font-size: 10px; color: var(--text-dim); white-space: nowrap; }
.tbxp-bar { width: 80px; height: 4px; background: rgba(255,255,255,.12); border-radius: 4px; overflow: hidden; }
.tbxp-fill { height: 100%; background: linear-gradient(90deg,#7c3aed,#a855f7); border-radius: 4px; transition: width .5s cubic-bezier(.4,0,.2,1); }

/* ── Notification Bell ───────────────────────────────────────────── */
.notif-wrap { position: relative; }
.notif-bell {
  background: none; border: none; font-size: 20px; cursor: pointer;
  color: var(--text); padding: 4px 8px; border-radius: 8px;
  position: relative; transition: background .2s; line-height: 1;
}
.notif-bell:hover { background: var(--bg-hover); }
.notif-badge {
  position: absolute; top: -2px; right: -2px; min-width: 18px; height: 18px;
  background: #ef4444; color: #fff; font-size: 10px; font-weight: 700;
  border-radius: 9px; display: flex; align-items: center; justify-content: center;
  padding: 0 4px; pointer-events: none;
}
.notif-panel {
  position: absolute; top: calc(100% + 10px); right: 0; width: 320px;
  background: var(--card); border: 1px solid var(--card-border);
  border-radius: 12px; box-shadow: 0 8px 32px rgba(0,0,0,.3);
  z-index: 999; display: none; flex-direction: column; max-height: 380px; overflow: hidden;
}
.notif-panel.open { display: flex; }
.notif-hdr {
  display: flex; justify-content: space-between; align-items: center;
  padding: 12px 16px; font-weight: 600; font-size: 14px;
  border-bottom: 1px solid var(--card-border);
}
.notif-clear-btn {
  background: none; border: none; color: var(--text-dim); font-size: 12px;
  cursor: pointer; padding: 2px 8px; border-radius: 6px;
}
.notif-clear-btn:hover { background: var(--bg-hover); color: var(--text); }
#notifList { overflow-y: auto; max-height: 300px; }
.notif-empty { padding: 24px; text-align: center; color: var(--text-dim); font-size: 14px; }
.notif-item {
  display: flex; gap: 10px; padding: 12px 16px; cursor: pointer;
  border-bottom: 1px solid var(--card-border); transition: background .15s;
  background: rgba(124,58,237,.06);
}
.notif-item:hover { background: var(--bg-hover); }
.notif-item.notif-read { background: none; opacity: .7; }
.notif-item-icon { font-size: 20px; flex-shrink: 0; }
.notif-item-body { display: flex; flex-direction: column; gap: 3px; flex: 1; min-width: 0; }
.notif-item-text { font-size: 13px; line-height: 1.4; }
.notif-item-time { font-size: 11px; color: var(--text-dim); }

/* ── Command Palette (Ctrl+K) ────────────────────────────────────── */
.cmd-overlay {
  position: fixed; inset: 0; background: rgba(0,0,0,.55);
  backdrop-filter: blur(4px); z-index: 9999;
  display: none; justify-content: center; align-items: flex-start; padding-top: 15vh;
}
.cmd-overlay.open { display: flex; }
.cmd-palette {
  width: 560px; max-width: 92vw; background: var(--card);
  border: 1px solid var(--card-border); border-radius: 16px;
  box-shadow: 0 20px 60px rgba(0,0,0,.5); overflow: hidden;
}
#cmdInput {
  width: 100%; padding: 18px 20px; font-size: 16px; background: none;
  border: none; border-bottom: 1px solid var(--card-border);
  color: var(--text); outline: none; font-family: inherit; box-sizing: border-box;
}
#cmdInput::placeholder { color: var(--text-dimmer); }
#cmdList { max-height: 360px; overflow-y: auto; }
.cmd-item {
  display: flex; align-items: center; gap: 12px; padding: 12px 20px;
  cursor: pointer; transition: background .12s; font-size: 14px;
}
.cmd-item:hover, .cmd-item.cmd-active { background: rgba(124,58,237,.14); }
.cmd-item-icon { font-size: 18px; width: 28px; text-align: center; flex-shrink: 0; }
.cmd-item-label { color: var(--text); }
.cmd-hint { font-size: 10px; color: var(--text-dimmer); margin-left: auto; white-space: nowrap; }
.cmd-empty { padding: 24px; text-align: center; color: var(--text-dim); font-size: 14px; }

/* ── Quote of Day ────────────────────────────────────────────────── */
.quote-of-day {
  display: flex; align-items: flex-start; gap: 14px;
  background: linear-gradient(135deg,rgba(124,58,237,.1),rgba(168,85,247,.06));
  border: 1px solid rgba(124,58,237,.2); border-left: 4px solid #7c3aed;
  border-radius: 12px; padding: 16px 20px; margin-bottom: 28px;
}
.qotd-icon { font-size: 24px; flex-shrink: 0; margin-top: 2px; }
.quote-of-day blockquote {
  margin: 0 0 4px; font-size: 14px; line-height: 1.6; color: var(--text); font-style: italic;
}
.quote-of-day cite { font-size: 12px; color: var(--text-dim); font-style: normal; }

/* ── My Hackathons block ────────────────────────────────────────── */
.my-hackathons-wrap { margin-bottom: 32px; }
.my-hack-header { display: flex; align-items: center; justify-content: space-between; margin-bottom: 14px; }
.my-hack-title { margin: 0; font-size: 18px; font-weight: 700; }
.my-hack-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(280px, 1fr)); gap: 14px; }
.my-hack-card {
  background: var(--card); border: 1px solid var(--card-border); border-radius: 14px;
  padding: 16px; display: flex; flex-direction: column; gap: 10px;
  transition: border-color .2s, box-shadow .2s;
}
.my-hack-card:hover { border-color: var(--primary); box-shadow: 0 4px 20px rgba(124,58,237,.15); }
.my-hack-urgent {
  border-color: rgba(239,68,68,.4);
  background: linear-gradient(135deg,rgba(239,68,68,.07),var(--card));
}
.my-hack-hot {
  border-color: rgba(234,179,8,.35);
  background: linear-gradient(135deg,rgba(234,179,8,.07),var(--card));
}
.my-hack-emoji { font-size: 32px; line-height: 1; }
.my-hack-body { flex: 1; display: flex; flex-direction: column; gap: 5px; }
.my-hack-name { font-size: 15px; font-weight: 700; color: var(--text); }
.my-hack-org { font-size: 12px; color: var(--text-dim); }
.my-hack-prize { font-size: 13px; font-weight: 600; color: #a855f7; }
.my-hack-tags { display: flex; flex-wrap: wrap; gap: 5px; margin: 4px 0; }
.mh-tag {
  font-size: 11px; padding: 2px 8px; border-radius: 20px;
  background: rgba(124,58,237,.12); color: var(--primary-light); border: 1px solid rgba(124,58,237,.2);
}
.my-hack-deadline {
  display: flex; align-items: center; gap: 6px; font-size: 12px;
  padding: 6px 10px; border-radius: 8px; background: rgba(255,255,255,.05);
}
.mhd-label { color: var(--text-dim); flex-shrink: 0; }
.mhd-val { font-weight: 700; color: var(--text); }
.my-hack-urgent .mhd-val { color: #ef4444; }
.my-hack-hot .mhd-val { color: #eab308; }
.my-hack-desc { font-size: 12px; color: var(--text-dim); line-height: 1.5; }
.my-hack-btn { align-self: flex-start; text-decoration: none; margin-top: 4px; }
/* ─── PROJECT AI PAGE ─────────────────────────────────────── */
.proj-search-card { margin-bottom: 16px; }
.proj-search-card .btn { white-space: nowrap; flex-shrink: 0; }

.proj-type-tabs { display: flex; gap: 8px; flex-wrap: wrap; }
.proj-type-tab {
  padding: 8px 18px; border-radius: 20px; border: 1px solid var(--card-border);
  background: transparent; color: var(--text-dim); font-size: 13px; cursor: pointer;
  transition: var(--transition);
}
.proj-type-tab:hover { border-color: var(--primary); color: var(--primary); }
.proj-type-tab.active {
  background: var(--primary); color: #fff; border-color: var(--primary);
  font-weight: 600; box-shadow: 0 0 14px var(--primary-glow);
}

.proj-type-badge {
  display: inline-block; font-size: 11px; padding: 2px 10px;
  border-radius: 20px; background: rgba(124,111,247,.15);
  color: var(--primary); border: 1px solid rgba(124,111,247,.3);
  margin-left: 4px;
}

.proj-saved-list { display: flex; flex-direction: column; gap: 8px; }
.proj-saved-item {
  display: flex; align-items: center; gap: 12px; padding: 12px 16px;
  background: var(--bg3); border: 1px solid var(--card-border); border-radius: var(--radius-sm);
  cursor: pointer; transition: var(--transition);
}
.proj-saved-item:hover { border-color: var(--primary); transform: translateX(3px); }
.proj-saved-name { flex: 1; font-size: 14px; font-weight: 600; }
.proj-saved-meta { font-size: 12px; color: var(--text-dim); }
.proj-saved-pct { font-size: 13px; font-weight: 700; color: var(--success); }

.proj-roadmap-card { padding: 20px; }
.proj-roadmap-header {
  display: flex; justify-content: space-between; align-items: flex-start;
  gap: 16px; flex-wrap: wrap; margin-bottom: 20px;
}
.proj-progress-text { font-size: 13px; color: var(--text-dim); text-align: right; margin-bottom: 6px; }
.proj-progress-bar-wrap {
  width: 160px; height: 8px; background: var(--bg3);
  border-radius: 20px; overflow: hidden;
}
.proj-progress-bar-fill {
  height: 100%; background: linear-gradient(90deg, var(--primary), var(--secondary));
  border-radius: 20px; transition: width .5s ease;
}

.proj-steps-list { display: flex; flex-direction: column; gap: 10px; }
.proj-step {
  display: flex; gap: 14px; align-items: flex-start; padding: 14px 16px;
  background: var(--bg3); border: 1px solid var(--card-border); border-radius: var(--radius-sm);
  transition: var(--transition);
}
.proj-step.done {
  opacity: .6; border-color: rgba(34,197,94,.3); background: rgba(34,197,94,.04);
}
.proj-step:hover { border-color: rgba(124,111,247,.4); }

.proj-step-num {
  width: 28px; height: 28px; border-radius: 50%; flex-shrink: 0;
  display: flex; align-items: center; justify-content: center;
  font-size: 12px; font-weight: 700; cursor: pointer;
  border: 2px solid var(--card-border); background: var(--bg);
  color: var(--text-dim); transition: var(--transition);
}
.proj-step-num:hover { border-color: var(--primary); }
.proj-step.done .proj-step-num {
  background: var(--success); border-color: var(--success); color: #fff;
}

.proj-step-body { flex: 1; min-width: 0; }
.proj-step-title {
  font-size: 14px; font-weight: 600; color: var(--text); margin-bottom: 3px;
  display: flex; align-items: center; gap: 8px;
}
.proj-step.done .proj-step-title { text-decoration: line-through; color: var(--text-dim); }
.proj-step-desc { font-size: 12px; color: var(--text-dim); line-height: 1.5; margin-bottom: 6px; }
.proj-step-meta {
  display: flex; gap: 10px; flex-wrap: wrap; align-items: center;
}
.proj-step-time {
  font-size: 11px; color: var(--text-dimmer); padding: 2px 8px;
  background: rgba(124,111,247,.1); border-radius: 20px;
}
.proj-step-resources { display: flex; gap: 6px; flex-wrap: wrap; }
.proj-step-res-link {
  font-size: 11px; color: var(--secondary); text-decoration: none;
  padding: 2px 8px; border: 1px solid rgba(62,207,207,.2); border-radius: 20px;
  transition: var(--transition);
}
.proj-step-res-link:hover { background: rgba(62,207,207,.1); }

.proj-hint-btn {
  font-size: 11px; padding: 3px 10px; border-radius: 20px; border: none;
  background: rgba(124,111,247,.12); color: var(--primary); cursor: pointer;
  transition: var(--transition); margin-left: auto; flex-shrink: 0;
}
.proj-hint-btn:hover { background: rgba(124,111,247,.25); }

.proj-hint-body { font-size: 14px; line-height: 1.7; white-space: pre-wrap; }
.proj-hint-body pre {
  background: var(--bg3); padding: 12px; border-radius: 8px; overflow-x: auto;
  margin: 8px 0; font-size: 12px;
}

.proj-search-answer {
  font-size: 13px; line-height: 1.7; color: var(--text); white-space: pre-wrap;
}
.proj-search-sources { margin-top: 12px; display: flex; flex-direction: column; gap: 6px; }
.proj-source-item {
  display: flex; flex-direction: column; gap: 2px; padding: 8px 12px;
  background: var(--bg3); border-radius: var(--radius-xs); border: 1px solid var(--card-border);
}
.proj-source-title { font-size: 13px; font-weight: 600; color: var(--primary); }
.proj-source-snippet { font-size: 12px; color: var(--text-dim); }
.proj-source-url { font-size: 11px; color: var(--secondary); text-decoration: none; }

/* ─── PLAN TEMPLATES ─────────────────────────────────────────── */
.proj-templates-row { display: flex; gap: 8px; flex-wrap: wrap; }
.proj-tmpl-btn {
  padding: 7px 16px; border-radius: 20px; border: 1px solid var(--card-border);
  background: var(--bg3); color: var(--text); font-size: 12px; cursor: pointer;
  transition: var(--transition); white-space: nowrap;
}
.proj-tmpl-btn:hover {
  border-color: var(--secondary); color: var(--secondary);
  background: rgba(62,207,207,.08);
}

/* ─── OLYMPIAD PAGE ──────────────────────────────────────────── */
.olym-topic-grid {
  display: grid; grid-template-columns: repeat(auto-fill, minmax(220px, 1fr));
  gap: 12px; margin-bottom: 8px;
}
.olym-cat-label {
  grid-column: 1 / -1; font-size: 12px; font-weight: 700; letter-spacing: .08em;
  text-transform: uppercase; color: var(--text-dim); margin-top: 8px; margin-bottom: 2px;
}
.olym-topic-card {
  padding: 14px 16px; background: var(--bg3); border: 1px solid var(--card-border);
  border-radius: var(--radius-sm); cursor: pointer; transition: var(--transition);
  display: flex; flex-direction: column; gap: 5px;
}
.olym-topic-card:hover {
  border-color: var(--primary); transform: translateY(-2px);
  box-shadow: 0 4px 16px var(--primary-glow);
}
.olym-topic-icon { font-size: 24px; line-height: 1; }
.olym-topic-name { font-size: 14px; font-weight: 600; color: var(--text); }
.olym-topic-desc { font-size: 11px; color: var(--text-dim); line-height: 1.4; }
.olym-topic-badge {
  display: inline-block; font-size: 10px; padding: 2px 8px; border-radius: 20px;
  background: rgba(124,111,247,.1); color: var(--primary); border: 1px solid rgba(124,111,247,.2);
  align-self: flex-start;
}

.olym-placeholder { text-align: center; padding: 32px; }
.olym-solve-result {
  font-size: 13px; line-height: 1.7; white-space: pre-wrap;
  background: var(--bg3); padding: 16px; border-radius: var(--radius-sm);
  border: 1px solid var(--card-border);
}

/* ═══════════════════════════════════════════════════════════════════
   SMART NOTES & MOOD BOARD
   ═══════════════════════════════════════════════════════════════════ */

/* Notes page layout */
.twin-layout {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 20px;
  margin-bottom: 24px;
}

@media (max-width: 800px) {
  .twin-layout {
    grid-template-columns: 1fr;
  }
}

/* Note cards */
.note-card {
  background: var(--card);
  border: 1px solid var(--card-border);
  border-radius: var(--radius-sm);
  padding: 16px;
  cursor: pointer;
  transition: all var(--transition);
  position: relative;
  overflow: hidden;
}

.note-card:hover {
  border-color: var(--primary);
  transform: translateY(-2px);
  box-shadow: 0 8px 24px rgba(124,111,247,0.15);
}

.note-card-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 10px;
  font-size: 11px;
  color: var(--text-dim);
}

.note-has-photo {
  font-size: 16px;
}

.note-date {
  font-size: 10px;
  text-transform: uppercase;
  letter-spacing: 0.5px;
}

.note-card-content {
  font-size: 13px;
  line-height: 1.6;
  color: var(--text);
  margin-bottom: 12px;
  display: -webkit-box;
  -webkit-line-clamp: 3;
  -webkit-box-orient: vertical;
  overflow: hidden;
}

.note-tags {
  display: flex;
  gap: 6px;
  flex-wrap: wrap;
  margin-bottom: 8px;
}

.tag {
  display: inline-block;
  font-size: 10px;
  padding: 3px 8px;
  background: rgba(124,111,247,0.12);
  color: var(--primary);
  border-radius: 12px;
  border: 1px solid rgba(124,111,247,0.2);
}

.note-tasks {
  font-size: 11px;
  color: var(--success);
  font-weight: 600;
}

/* Note preview cards (recent list) */
.note-preview-card {
  background: var(--bg3);
  border: 1px solid var(--card-border);
  border-radius: var(--radius-xs);
  padding: 10px 12px;
  margin-bottom: 8px;
  cursor: pointer;
  transition: all var(--transition);
}

.note-preview-card:hover {
  background: var(--card);
  border-color: var(--primary);
}

.note-preview-title {
  font-size: 12px;
  font-weight: 500;
  color: var(--text);
  margin-bottom: 4px;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}

.note-preview-meta {
  font-size: 10px;
  color: var(--text-dimmer);
}

/* Photo preview in notes */
#notesPhotoPreview img {
  width: 100%;
  max-height: 300px;
  object-fit: cover;
  border-radius: var(--radius-sm);
  border: 2px solid var(--card-border);
}

/* Mood Board cards */
.moodboard-card {
  background: var(--card);
  border: 1px solid var(--card-border);
  border-radius: var(--radius-sm);
  padding: 16px;
  cursor: pointer;
  transition: all var(--transition);
  overflow: hidden;
}

.moodboard-card:hover {
  border-color: var(--secondary);
  transform: translateY(-2px);
  box-shadow: 0 8px 24px rgba(62,207,207,0.15);
}

.moodboard-thumbnail {
  width: 100%;
  height: 140px;
  border-radius: var(--radius-xs);
  overflow: hidden;
  margin-bottom: 12px;
  background: var(--bg3);
}

.moodboard-thumbnail img {
  width: 100%;
  height: 100%;
  object-fit: cover;
}

/* Color swatches */
.color-swatch {
  position: relative;
  width: 60px;
  height: 60px;
  border-radius: 12px;
  border: 2px solid var(--card-border);
  cursor: pointer;
  transition: all var(--transition);
  display: flex;
  align-items: flex-end;
  justify-content: center;
  overflow: hidden;
  box-shadow: 0 4px 12px rgba(0,0,0,0.3);
}

.color-swatch:hover {
  transform: scale(1.1);
  border-color: var(--text);
  box-shadow: 0 8px 24px rgba(0,0,0,0.5);
}

.color-hex {
  font-size: 9px;
  font-weight: 700;
  padding: 4px 6px;
  background: rgba(0,0,0,0.7);
  color: #fff;
  border-radius: 4px;
  margin-bottom: 4px;
  text-transform: uppercase;
  letter-spacing: 0.5px;
}

/* Style tags */
.style-tag {
  display: inline-block;
  font-size: 11px;
  padding: 4px 10px;
  background: rgba(62,207,207,0.12);
  color: var(--secondary);
  border-radius: 14px;
  border: 1px solid rgba(62,207,207,0.2);
  margin-right: 6px;
  margin-bottom: 6px;
}

/* Photo thumbnails in gallery */
.photo-thumbnail {
  width: 100%;
  height: 100px;
  border-radius: var(--radius-xs);
  overflow: hidden;
  background: var(--bg3);
  border: 1px solid var(--card-border);
  position: relative;
}

.photo-thumbnail img {
  width: 100%;
  height: 100%;
  object-fit: cover;
}

/* Photo gallery grid */
#mbPhotoGallery {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(100px, 1fr));
  gap: 10px;
  max-height: 200px;
  overflow-y: auto;
  padding: 12px;
  background: var(--bg3);
  border-radius: var(--radius-sm);
  border: 1px solid var(--card-border);
}

#mbPhotoGallery::-webkit-scrollbar {
  width: 6px;
}

#mbPhotoGallery::-webkit-scrollbar-track {
  background: var(--bg2);
  border-radius: 6px;
}

#mbPhotoGallery::-webkit-scrollbar-thumb {
  background: var(--primary);
  border-radius: 6px;
}

/* Color palette display */
#mbColorPalette {
  display: flex;
  gap: 12px;
  flex-wrap: wrap;
  padding: 16px;
  background: var(--bg3);
  border-radius: var(--radius-sm);
  border: 1px solid var(--card-border);
  justify-content: center;
}

/* Mood description */
#mbMood {
  font-size: 14px;
  line-height: 1.7;
  color: var(--text-dim);
  padding: 16px;
  background: var(--bg3);
  border-radius: var(--radius-sm);
  border-left: 3px solid var(--secondary);
  margin-bottom: 16px;
}

/* Style tags container */
#mbStyleTags {
  display: flex;
  gap: 6px;
  flex-wrap: wrap;
  padding: 12px;
  background: var(--bg3);
  border-radius: var(--radius-sm);
  border: 1px solid var(--card-border);
}

/* Empty states */
.empty-state {
  text-align: center;
  padding: 48px 24px;
  color: var(--text-dim);
  font-size: 14px;
  background: var(--bg3);
  border-radius: var(--radius-sm);
  border: 1px dashed var(--card-border);
}

/* ══════════════════════════════════════════════════════════════
   THEME SYSTEM — 10 Visual Themes
   ══════════════════════════════════════════════════════════════ */

/* ── 1. LIGHT ☀️ ── */
[data-theme="light"] {
  --bg: #f0f2f5; --bg2: #ffffff; --bg3: #f8f9fc;
  --bg-main: #f0f2f5; --bg-card: #ffffff; --bg-hover: rgba(124,58,237,0.06);
  --card: #ffffff; --card-border: rgba(0,0,0,0.09); --card-border-hover: rgba(124,58,237,0.35);
  --primary: #7c3aed; --primary-dark: #6d28d9; --primary-glow: rgba(124,58,237,0.2);
  --secondary: #0ea5e9; --secondary-glow: rgba(14,165,233,0.2);
  --text: #1e1b4b; --text-dim: #64748b; --text-dimmer: #94a3b8;
  --shadow: 0 4px 24px rgba(0,0,0,0.1); --shadow-glow: 0 0 30px rgba(124,58,237,0.1);
}

/* ── 2. OCEAN 🌊 ── */
[data-theme="ocean"] {
  --bg: #010a14; --bg2: #01121f; --bg3: #011828;
  --bg-main: #010a14; --bg-card: #01121f; --bg-hover: rgba(6,182,212,0.08);
  --card: #01121f; --card-border: rgba(6,182,212,0.12); --card-border-hover: rgba(6,182,212,0.45);
  --primary: #06b6d4; --primary-dark: #0891b2; --primary-glow: rgba(6,182,212,0.25);
  --secondary: #38bdf8; --secondary-glow: rgba(56,189,248,0.2);
  --text: #e0f7ff; --text-dim: #4a9ab5; --text-dimmer: #1a5570;
  --shadow: 0 4px 32px rgba(0,0,0,0.7); --shadow-glow: 0 0 40px rgba(6,182,212,0.15);
}

/* ── 3. FOREST 🌿 ── */
[data-theme="forest"] {
  --bg: #020d06; --bg2: #05150a; --bg3: #071b0d;
  --bg-main: #020d06; --bg-card: #05150a; --bg-hover: rgba(34,197,94,0.07);
  --card: #05150a; --card-border: rgba(34,197,94,0.1); --card-border-hover: rgba(34,197,94,0.4);
  --primary: #22c55e; --primary-dark: #16a34a; --primary-glow: rgba(34,197,94,0.22);
  --secondary: #10b981; --secondary-glow: rgba(16,185,129,0.2);
  --text: #d1fae5; --text-dim: #3d8a57; --text-dimmer: #1a4030;
  --shadow: 0 4px 32px rgba(0,0,0,0.7); --shadow-glow: 0 0 40px rgba(34,197,94,0.12);
}

/* ── 4. SUNSET 🌅 ── */
[data-theme="sunset"] {
  --bg: #0f0500; --bg2: #180b02; --bg3: #200e03;
  --bg-main: #0f0500; --bg-card: #180b02; --bg-hover: rgba(249,115,22,0.08);
  --card: #180b02; --card-border: rgba(249,115,22,0.12); --card-border-hover: rgba(249,115,22,0.45);
  --primary: #f97316; --primary-dark: #ea580c; --primary-glow: rgba(249,115,22,0.25);
  --secondary: #ec4899; --secondary-glow: rgba(236,72,153,0.2);
  --text: #fff1e6; --text-dim: #a06030; --text-dimmer: #5c2e10;
  --shadow: 0 4px 32px rgba(0,0,0,0.7); --shadow-glow: 0 0 40px rgba(249,115,22,0.15);
}

/* ── 5. NEON ⚡ ── */
[data-theme="neon"] {
  --bg: #000005; --bg2: #000510; --bg3: #000815;
  --bg-main: #000005; --bg-card: #010210; --bg-hover: rgba(0,255,224,0.05);
  --card: #010210; --card-border: rgba(0,255,224,0.1); --card-border-hover: rgba(0,255,224,0.4);
  --primary: #00ffe0; --primary-dark: #00ccb5; --primary-glow: rgba(0,255,224,0.25);
  --secondary: #bf00ff; --secondary-glow: rgba(191,0,255,0.2);
  --text: #ccfffa; --text-dim: #006e68; --text-dimmer: #003d38;
  --shadow: 0 4px 32px rgba(0,0,0,0.8); --shadow-glow: 0 0 40px rgba(0,255,224,0.15);
}
/* Neon scanlines */
body[data-theme="neon"]::before {
  content: '';
  position: fixed; inset: 0; z-index: 0; pointer-events: none;
  background: repeating-linear-gradient(0deg, transparent, transparent 2px, rgba(0,255,200,0.015) 2px, rgba(0,255,200,0.015) 4px);
}
/* Neon text glow on primary elements */
[data-theme="neon"] .nav-link.active,
[data-theme="neon"] .brand-name { text-shadow: 0 0 12px currentColor; }
[data-theme="neon"] .btn-primary { box-shadow: 0 0 20px rgba(0,255,224,0.35); }

/* ── 6. AURORA 🌌 ── */
[data-theme="aurora"] {
  --bg: #03021a; --bg2: #05031e; --bg3: #070425;
  --bg-main: #03021a; --bg-card: rgba(8,4,35,0.75); --bg-hover: rgba(0,255,180,0.07);
  --card: rgba(8,4,35,0.75); --card-border: rgba(0,255,180,0.12); --card-border-hover: rgba(0,255,180,0.4);
  --primary: #00ffb4; --primary-dark: #00cc90; --primary-glow: rgba(0,255,180,0.25);
  --secondary: #7800ff; --secondary-glow: rgba(120,0,255,0.2);
  --text: #e0fff8; --text-dim: #3a9e80; --text-dimmer: #1a4a38;
  --shadow: 0 4px 32px rgba(0,0,0,0.8); --shadow-glow: 0 0 40px rgba(0,255,180,0.12);
}
body[data-theme="aurora"]::before {
  content: '';
  position: fixed; inset: 0; z-index: 0; pointer-events: none;
  background:
    radial-gradient(ellipse 70% 50% at 15% 35%, rgba(0,255,180,0.12) 0%, transparent 60%),
    radial-gradient(ellipse 60% 70% at 85% 20%, rgba(120,0,255,0.15) 0%, transparent 60%),
    radial-gradient(ellipse 50% 60% at 50% 85%, rgba(0,120,255,0.1) 0%, transparent 60%);
  animation: aurora-bg 8s ease-in-out infinite alternate;
  filter: blur(25px);
}
@keyframes aurora-bg {
  0%   { transform: translate(0,0)     scale(1);    opacity: 0.6; }
  33%  { transform: translate(-20px,15px) scale(1.08); opacity: 0.9; }
  66%  { transform: translate(15px,-20px) scale(0.95); opacity: 0.7; }
  100% { transform: translate(-8px,8px)   scale(1.03); opacity: 0.8; }
}
[data-theme="aurora"] .sidebar,
[data-theme="aurora"] .card,
[data-theme="aurora"] .top-bar {
  backdrop-filter: blur(16px);
}

/* ── 7. SPACE 🚀 ── */
[data-theme="space"] {
  --bg: #000010; --bg2: #050018; --bg3: #080022;
  --bg-main: #000010; --bg-card: rgba(12,4,42,0.88); --bg-hover: rgba(180,120,255,0.07);
  --card: rgba(12,4,42,0.88); --card-border: rgba(150,100,255,0.15); --card-border-hover: rgba(180,120,255,0.5);
  --primary: #c084fc; --primary-dark: #a855f7; --primary-glow: rgba(192,132,252,0.25);
  --secondary: #818cf8; --secondary-glow: rgba(129,140,248,0.2);
  --text: #ede9fe; --text-dim: #5e3a99; --text-dimmer: #2d1a5a;
  --shadow: 0 4px 40px rgba(0,0,0,0.92); --shadow-glow: 0 0 40px rgba(192,132,252,0.15);
}
body[data-theme="space"]::before {
  content: '';
  position: fixed; inset: 0; z-index: 0; pointer-events: none;
  background-image:
    radial-gradient(1.5px 1.5px at  8% 12%, rgba(255,255,255,0.85) 0%, transparent 100%),
    radial-gradient(1px   1px   at 22% 72%, rgba(255,255,255,0.6)  0%, transparent 100%),
    radial-gradient(2px   2px   at 45%  8%, rgba(220,200,255,0.9)  0%, transparent 100%),
    radial-gradient(1px   1px   at 67% 55%, rgba(255,255,255,0.7)  0%, transparent 100%),
    radial-gradient(1.5px 1.5px at 88% 18%, rgba(200,180,255,0.8)  0%, transparent 100%),
    radial-gradient(1px   1px   at 33% 88%, rgba(255,255,255,0.6)  0%, transparent 100%),
    radial-gradient(2px   2px   at 75% 80%, rgba(255,220,100,0.7)  0%, transparent 100%),
    radial-gradient(1px   1px   at 55% 42%, rgba(255,255,255,0.5)  0%, transparent 100%),
    radial-gradient(1px   1px   at 12% 55%, rgba(255,255,255,0.75) 0%, transparent 100%),
    radial-gradient(1.5px 1.5px at 92% 65%, rgba(180,220,255,0.8)  0%, transparent 100%),
    radial-gradient(1px   1px   at 5%  90%, rgba(255,255,255,0.55) 0%, transparent 100%),
    radial-gradient(1px   1px   at 78% 33%, rgba(255,255,255,0.65) 0%, transparent 100%);
}
body[data-theme="space"]::after {
  content: '';
  position: fixed; inset: 0; z-index: 0; pointer-events: none;
  background:
    radial-gradient(ellipse 40% 30% at 80% 20%, rgba(100,0,200,0.18) 0%, transparent 70%),
    radial-gradient(ellipse 30% 40% at 15% 75%, rgba(0,60,200,0.12) 0%, transparent 70%);
  filter: blur(20px);
}
[data-theme="space"] .sidebar,
[data-theme="space"] .card,
[data-theme="space"] .top-bar { backdrop-filter: blur(12px); }

/* ── 8. RETRO ✨ — Y2K pastel glassmorphism ── */
[data-theme="retro"] {
  --bg: #fce4ff; --bg2: #fff0fd; --bg3: #f5d5ff;
  --bg-main: #fce4ff; --bg-card: rgba(255,255,255,0.82); --bg-hover: rgba(167,139,250,0.1);
  --card: rgba(255,255,255,0.82); --card-border: rgba(180,100,255,0.2); --card-border-hover: rgba(180,100,255,0.5);
  --primary: #9333ea; --primary-dark: #7c22bc; --primary-glow: rgba(147,51,234,0.2);
  --secondary: #ec4899; --secondary-glow: rgba(236,72,153,0.2);
  --text: #3b0764; --text-dim: #7c3aed; --text-dimmer: #a78bfa;
  --shadow: 0 4px 20px rgba(147,51,234,0.15); --shadow-glow: 0 0 30px rgba(147,51,234,0.12);
}
[data-theme="retro"] body { background: linear-gradient(135deg, #fce4ff 0%, #e8d5ff 30%, #d5eeff 60%, #d5ffe8 100%) fixed; }
[data-theme="retro"] .sidebar { background: rgba(255,255,255,0.88); backdrop-filter: blur(20px); border-right-color: rgba(180,100,255,0.15); box-shadow: 4px 0 24px rgba(147,51,234,0.08); }
[data-theme="retro"] .card { backdrop-filter: blur(10px); }
[data-theme="retro"] .btn-primary { box-shadow: 0 4px 20px rgba(147,51,234,0.3); }
[data-theme="retro"] .nav-link.active { background: rgba(147,51,234,0.12); }

/* ── 9. MIDNIGHT 🖤 — true black monochrome ── */
[data-theme="midnight"] {
  --bg: #000000; --bg2: #070710; --bg3: #0d0d1a;
  --bg-main: #000000; --bg-card: #09091a; --bg-hover: rgba(100,100,255,0.05);
  --card: #09091a; --card-border: rgba(80,80,200,0.1); --card-border-hover: rgba(120,120,255,0.3);
  --primary: #c8c8ff; --primary-dark: #a0a0ee; --primary-glow: rgba(180,180,255,0.12);
  --secondary: #6060c8; --secondary-glow: rgba(96,96,200,0.12);
  --text: #eaeaf8; --text-dim: #4a4a7a; --text-dimmer: #22223a;
  --shadow: 0 4px 32px rgba(0,0,0,0.95); --shadow-glow: 0 0 30px rgba(120,120,255,0.06);
}
body[data-theme="midnight"]::before {
  content: '';
  position: fixed; inset: 0; z-index: 0; pointer-events: none;
  background:
    radial-gradient(ellipse 60% 40% at 20% 80%, rgba(60,40,180,0.08) 0%, transparent 70%),
    radial-gradient(ellipse 50% 30% at 80% 20%, rgba(40,30,140,0.06) 0%, transparent 70%);
}

/* ── 10. KAZAKHSTAN 🇰🇿 — sky blue + gold ── */
[data-theme="kazakh"] {
  --bg: #00091a; --bg2: #000d24; --bg3: #001030;
  --bg-main: #00091a; --bg-card: rgba(0,14,35,0.9); --bg-hover: rgba(0,112,186,0.1);
  --card: rgba(0,14,35,0.9); --card-border: rgba(0,112,186,0.18); --card-border-hover: rgba(0,162,255,0.5);
  --primary: #00a2ff; --primary-dark: #0070ba; --primary-glow: rgba(0,162,255,0.28);
  --secondary: #ffd700; --secondary-glow: rgba(255,215,0,0.2);
  --text: #dff0ff; --text-dim: #2a6a99; --text-dimmer: #0d3355;
  --shadow: 0 4px 32px rgba(0,0,0,0.8); --shadow-glow: 0 0 40px rgba(0,162,255,0.18);
}
body[data-theme="kazakh"]::before {
  content: '';
  position: fixed; inset: 0; z-index: 0; pointer-events: none;
  background:
    radial-gradient(ellipse 80% 50% at 50% -10%, rgba(0,100,180,0.22) 0%, transparent 65%),
    radial-gradient(ellipse 40% 30% at 90% 90%, rgba(255,215,0,0.08) 0%, transparent 60%);
}
[data-theme="kazakh"] .btn-primary { box-shadow: 0 0 20px rgba(0,162,255,0.35); }
[data-theme="kazakh"] .sidebar, [data-theme="kazakh"] .card, [data-theme="kazakh"] .top-bar { backdrop-filter: blur(12px); }
[data-theme="kazakh"] .nav-link.active { border-left: 3px solid var(--secondary); }

/* ══════════════════════════════════════════════════════════════
   THEME PICKER MODAL
   ══════════════════════════════════════════════════════════════ */
.theme-picker-overlay {
  position: fixed; inset: 0; z-index: 2000;
  background: rgba(0,0,0,0.7);
  backdrop-filter: blur(8px);
  display: flex; align-items: center; justify-content: center;
  opacity: 0; pointer-events: none;
  transition: opacity 0.25s ease;
}
.theme-picker-overlay.open {
  opacity: 1; pointer-events: all;
}
.theme-picker-modal {
  background: var(--bg2);
  border: 1px solid var(--card-border);
  border-radius: 20px;
  padding: 28px;
  width: 580px;
  max-width: calc(100vw - 32px);
  max-height: 80vh;
  overflow-y: auto;
  box-shadow: 0 24px 80px rgba(0,0,0,0.6);
  transform: scale(0.94) translateY(10px);
  transition: transform 0.25s cubic-bezier(0.34,1.56,0.64,1);
}
.theme-picker-overlay.open .theme-picker-modal {
  transform: scale(1) translateY(0);
}
.theme-picker-header {
  display: flex; align-items: center; justify-content: space-between;
  margin-bottom: 20px;
}
.theme-picker-header h3 {
  font-size: 18px; font-weight: 800;
  background: linear-gradient(135deg, var(--primary), var(--secondary));
  -webkit-background-clip: text; background-clip: text; -webkit-text-fill-color: transparent;
}
.theme-picker-close {
  width: 32px; height: 32px; border-radius: 50%; border: 1px solid var(--card-border);
  background: transparent; color: var(--text-dim); cursor: pointer; font-size: 16px;
  display: flex; align-items: center; justify-content: center;
  transition: all 0.2s;
}
.theme-picker-close:hover { background: var(--card-border); color: var(--text); }
.themes-grid {
  display: grid; grid-template-columns: repeat(4, 1fr); gap: 10px;
}
@media (max-width: 560px) { .themes-grid { grid-template-columns: repeat(2, 1fr); } }
.theme-card {
  border: 2px solid var(--card-border);
  border-radius: 14px; padding: 14px 10px 12px;
  cursor: pointer; text-align: center;
  transition: all 0.22s ease; position: relative;
  background: var(--bg3);
}
.theme-card:hover { border-color: var(--primary); transform: translateY(-3px); box-shadow: 0 10px 28px rgba(0,0,0,0.35); }
.theme-card.active { border-color: var(--primary); box-shadow: 0 0 0 3px var(--primary-glow); background: var(--bg-hover); }
.theme-card.active::after {
  content: '✓';
  position: absolute; top: 5px; right: 7px;
  font-size: 11px; font-weight: 900; color: var(--primary);
}
.theme-swatches {
  display: flex; gap: 4px; justify-content: center; margin-bottom: 8px;
}
.theme-swatch {
  width: 20px; height: 20px; border-radius: 50%;
  border: 1.5px solid rgba(255,255,255,0.2);
  box-shadow: 0 2px 6px rgba(0,0,0,0.3);
}
.theme-card-icon { font-size: 22px; margin-bottom: 5px; display: block; }
.theme-card-name { font-size: 10px; font-weight: 800; color: var(--text); text-transform: uppercase; letter-spacing: 0.7px; margin-bottom: 2px; }
.theme-card-desc { font-size: 9px; color: var(--text-dim); line-height: 1.3; }
.theme-picker-modal { width: 640px; }

/* Theme toggle button upgraded */
.theme-toggle {
  display: flex; align-items: center; gap: 8px;
  padding: 10px 14px; margin: 8px 16px 16px;
  border: 1px solid var(--card-border); border-radius: var(--radius-sm);
  background: var(--bg3); color: var(--text-dim);
  font-size: 13px; font-weight: 600; cursor: pointer;
  transition: all var(--transition); width: calc(100% - 32px);
}
.theme-toggle:hover { border-color: var(--primary); color: var(--primary); background: var(--bg-hover); }

/* ── POMODORO WIDGET ─────────────────────────────────────────────── */
.pomodoro-widget {
  position: fixed;
  bottom: 90px; right: 20px;
  width: 280px;
  background: var(--bg2);
  border: 1px solid var(--card-border);
  border-radius: var(--radius);
  box-shadow: var(--shadow), var(--shadow-glow);
  z-index: 1200;
  overflow: hidden;
  display: none;
}
.pomo-header {
  display: flex; align-items: center; justify-content: space-between;
  padding: 12px 14px;
  background: linear-gradient(135deg, var(--primary), var(--secondary));
  color: #fff;
  font-weight: 700; font-size: 13px;
}
.pomo-icon-btn {
  background: rgba(255,255,255,0.2); border: none; border-radius: 6px;
  color: #fff; width: 24px; height: 24px; display: flex; align-items: center;
  justify-content: center; cursor: pointer; font-size: 14px;
  transition: background 0.15s;
}
.pomo-icon-btn:hover { background: rgba(255,255,255,0.35); }
.pomo-body { padding: 16px 14px; text-align: center; }
.pomo-phase {
  font-size: 11px; font-weight: 700; text-transform: uppercase;
  letter-spacing: 1px; color: var(--primary); margin-bottom: 4px;
}
.pomo-time {
  font-size: 52px; font-weight: 900;
  color: var(--text);
  font-feature-settings: 'tnum';
  line-height: 1; margin-bottom: 12px;
  transition: color 0.3s;
}
.pomo-time.urgent { color: #ef4444; }
.pomo-time.pomo-break { color: #22c55e; }
.pomo-controls { display: flex; gap: 8px; justify-content: center; }
.pomo-btn {
  padding: 8px 18px; border-radius: var(--radius-sm);
  border: 1px solid var(--card-border); background: var(--bg3);
  color: var(--text); font-weight: 700; font-size: 13px; cursor: pointer;
  transition: all 0.18s;
}
.pomo-btn:hover { border-color: var(--primary); color: var(--primary); background: var(--bg-hover); }
.pomo-btn.active { background: var(--primary); color: #fff; border-color: var(--primary); }
.pomo-cycles { margin-top: 10px; font-size: 11px; color: var(--text-dim); }
.pomo-progress-wrap { height: 3px; background: var(--bg3); border-radius: 2px; margin-top: 12px; overflow: hidden; }
.pomo-progress-bar {
  height: 100%; border-radius: 2px;
  background: linear-gradient(90deg, var(--primary), var(--secondary));
  transition: width 1s linear;
}
@media (max-width: 480px) { .pomodoro-widget { right: 10px; bottom: 80px; width: calc(100vw - 20px); } }

/* ── CRISIS MODE ──────────────────────────────────────────────────── */
.crisis-mode {
  --primary: #ef4444;
  --secondary: #f97316;
  --accent: #ef4444;
}
.crisis-mode body::before,
body.crisis-mode::before {
  content: '🚨 CRISIS MODE — СФОКУСИРУЙСЯ НА ЗАДАЧАХ';
  display: block;
  background: #ef4444;
  color: #fff;
  text-align: center;
  font-weight: 700;
  font-size: 13px;
  letter-spacing: .5px;
  padding: 6px;
  position: fixed;
  top: 0; left: 0; right: 0;
  z-index: 9999;
  pointer-events: none;
}
body.crisis-mode .app-sidebar { border-color: #ef4444; }
body.crisis-mode .nav-item.active { background: rgba(239,68,68,.18); }

/* ── PITCH TIMER ──────────────────────────────────────────────────── */
.pitch-timer-card {
  background: linear-gradient(135deg, rgba(124,111,247,.08) 0%, rgba(167,139,250,.06) 100%);
  border: 1px solid rgba(124,111,247,.2);
  border-radius: var(--radius);
  padding: 20px;
  margin-bottom: 20px;
  text-align: center;
}
.pitch-timer-display {
  font-size: 56px;
  font-weight: 900;
  color: var(--primary);
  font-feature-settings: 'tnum';
  line-height: 1;
  margin: 8px 0;
  transition: color .3s;
}
.pitch-presets {
  display: flex;
  gap: 8px;
  justify-content: center;
  flex-wrap: wrap;
  margin: 12px 0;
}
.pitch-preset-btn {
  padding: 8px 18px;
  background: rgba(124,111,247,.15);
  color: var(--primary);
  border: 1px solid rgba(124,111,247,.3);
  border-radius: var(--radius-sm);
  font-weight: 700;
  font-size: 14px;
  cursor: pointer;
  transition: all .18s;
}
.pitch-preset-btn:hover { background: var(--primary); color: #fff; }
.pitch-timer-progress {
  width: 100%;
  height: 8px;
  background: var(--bg3);
  border-radius: 99px;
  overflow: hidden;
  margin-top: 10px;
}
.pitch-timer-bar {
  height: 100%;
  background: linear-gradient(90deg, var(--primary), var(--secondary));
  border-radius: 99px;
  transition: width .9s linear;
}

/* ── SCORING BOARD ────────────────────────────────────────────────── */
.scoring-criteria {
  display: flex;
  flex-direction: column;
  gap: 14px;
  margin: 16px 0;
}
.scoring-row {
  display: flex;
  align-items: center;
  gap: 12px;
  flex-wrap: wrap;
}
.scoring-label {
  min-width: 160px;
  font-size: 13px;
  font-weight: 600;
  color: var(--text);
}
.scoring-stars {
  display: flex;
  gap: 4px;
}
.star-btn {
  font-size: 22px;
  color: var(--text-dimmer, #9ca3af);
  background: none;
  border: none;
  cursor: pointer;
  transition: color .15s, transform .1s;
  padding: 0;
  line-height: 1;
}
.star-btn:hover { transform: scale(1.25); }
.scoring-val {
  width: 22px;
  text-align: right;
  font-weight: 700;
  font-size: 13px;
  color: var(--primary);
}
.scoring-total-wrap {
  display: flex;
  align-items: center;
  gap: 12px;
  margin-top: 16px;
  padding: 14px 20px;
  background: var(--bg3);
  border-radius: var(--radius-sm);
  border: 1px solid var(--card-border);
}
.scoring-total-score {
  font-size: 36px;
  font-weight: 900;
  color: var(--primary);
  line-height: 1;
}
.scoring-grade {
  font-weight: 700;
  font-size: 15px;
  color: var(--text);
}

/* ═══════════════════════════════════════════════════════════════
   v3 POLISH — extra touches for 2025 aesthetic
   ═══════════════════════════════════════════════════════════════ */

/* Smoother scrollbar */
::-webkit-scrollbar { width: 5px; height: 5px; }
::-webkit-scrollbar-track { background: transparent; }
::-webkit-scrollbar-thumb { background: rgba(139,124,248,0.3); border-radius: 99px; }
::-webkit-scrollbar-thumb:hover { background: rgba(139,124,248,0.6); }

/* Refined page fade-in */
@keyframes fadeIn { from { opacity: 0; transform: translateY(6px); } to { opacity: 1; transform: translateY(0); } }
.page { animation: fadeIn .25s ease; }

/* Burnout questions glass */
.burnout-q { margin-bottom: 20px; }
.burnout-q .scale-input { gap: 5px; }
.scale-btn {
  width: 36px; height: 36px;
  border: 1px solid rgba(255,255,255,0.09);
  border-radius: 999px;
  background: rgba(255,255,255,0.04);
  color: var(--text-dim);
  font-size: 12px; font-weight: 700;
  cursor: pointer;
  transition: all var(--transition);
}
.scale-btn:hover, .scale-btn.selected {
  background: linear-gradient(135deg, var(--primary), #6c5fd4);
  border-color: transparent;
  color: #fff;
  box-shadow: 0 3px 12px rgba(139,124,248,0.4);
}

/* Tighter nav separator */
.nav-separator { height: 1px; background: rgba(255,255,255,0.05); margin: 6px 14px; }

/* Invite code box pill */
.invite-code-box {
  border-radius: 999px;
  padding: 10px 20px;
}

/* Active/hover states on request actions */
.request-actions .btn { font-size: 12px; padding: 7px 14px; }

/* Scoring total wrap glass */
.scoring-total-wrap {
  background: rgba(255,255,255,0.04) !important;
  border: 1px solid rgba(255,255,255,0.07) !important;
  border-radius: var(--radius-sm);
}

/* Loader box glass */
.loader-overlay { backdrop-filter: blur(8px); }

/* Topic chips */
.topic-chip {
  border-color: rgba(255,255,255,0.08);
  background: rgba(255,255,255,0.04);
}
.topic-chip:hover, .topic-chip.selected, .topic-chip.active {
  border-color: var(--primary);
  background: rgba(139,124,248,0.12);
}

/* Agent items */
.agent-item {
  background: rgba(255,255,255,0.04);
  border: 1px solid rgba(255,255,255,0.07);
  border-radius: var(--radius-sm);
  font-size: 13px; font-weight: 600; color: var(--text-dim);
  padding: 8px 12px;
}

/* Bool buttons */
.bool-btn {
  border-radius: 999px;
  border: 1px solid rgba(255,255,255,0.09);
  background: rgba(255,255,255,0.04);
}

/* Pchat mode buttons pill */
.pchat-mode-btn { border-radius: 12px; border-color: rgba(255,255,255,0.08); background: rgba(255,255,255,0.03); }
.pchat-mode-btn:hover { border-color: var(--primary); background: rgba(139,124,248,0.08); }
.pchat-mode-btn.active { background: linear-gradient(135deg, var(--primary), #6c5fd4); border-color: transparent; box-shadow: 0 4px 16px rgba(139,124,248,0.35); }

/* User search dropdown glass */
.user-search-dropdown {
  background: rgba(12,12,36,0.95);
  backdrop-filter: blur(24px);
  border: 1px solid rgba(255,255,255,0.09);
}
.user-search-item:hover { background: rgba(139,124,248,0.1); }

/* General: focus-visible ring */
button:focus-visible, a:focus-visible { outline: 2px solid var(--primary); outline-offset: 2px; border-radius: 4px; }

/* Light theme: ensure glass surfaces look right */
[data-theme="light"] .card,
[data-theme="light"] .module-card,
[data-theme="light"] .tournament-card,
[data-theme="light"] .user-card,
[data-theme="light"] .lb-row {
  backdrop-filter: blur(16px);
  -webkit-backdrop-filter: blur(16px);
}
[data-theme="light"] .sidebar {
  background: rgba(250,250,255,0.88);
  backdrop-filter: blur(28px);
}
[data-theme="light"] .input {
  background: rgba(110,100,230,0.05);
  border-color: rgba(100,90,200,0.18);
}
[data-theme="light"] .btn-primary {
  box-shadow: 0 4px 16px rgba(109,95,240,0.35);
}
[data-theme="light"] ::-webkit-scrollbar-thumb {
  background: rgba(109,95,240,0.25);
}
[data-theme="light"] ::-webkit-scrollbar-thumb:hover {
  background: rgba(109,95,240,0.5);
}
